<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Pull Up Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Pull Up Method</h1>
<blockquote>原文：<a href="https://refactoringguru.cn/pull-up-method">https://refactoringguru.cn/pull-up-method</a></blockquote>
    
    

    <script type="text/javascript">
        // Shorten examples titles for users.
        var h1 = document.getElementsByTagName("H1")[0];
        if (h1.offsetHeight &amp;gt; 160) {
            h1.className += ' smaller';
        }

        // Small beautification for pattern examples.
        var title = h1.innerHTML;
        title = title.replace(/^(Java|C\+\+|C#|PHP|Python|Ruby|Delphi): (.*)$/, '&amp;lt;strong&amp;gt;$1:&amp;lt;/strong&amp;gt; $2');
        h1.innerHTML = title;
    </script>

    
    

    <div class="before-after-container">
        <div class="before">
            <h3>Problem</h3>
            <p>Your subclasses have methods that perform similar work.</p>

        </div>
        <div class="after">
            <h3>Solution</h3>
            <p>Make the methods identical and then move them to the relevant superclass.</p>

        </div>
    </div>

        <div class="examples">
                    <div class="before-after before-after-container ">
                <div class="before">
                    <div class="ba">Before</div>
                                            <div class="ba-container"><img src="../Images/4f902fa84225b995e9c5b37ce6a8f189.png" alt="Pull Up Method - Before" width="452" data-original-src="https://refactoringguru.cn/images/refactoring/diagrams/Pull Up Method - Before.png?id=1af4e8b520779e6b72d6d91115f6373f"/></div>
                                    </div>
                <div class="after">
                    <div class="ba">After</div>
                                            <div class="ba-container"><img src="../Images/0e414b953a4bd063f1739858a837d8fa.png" alt="Pull Up Method - After" width="452" data-original-src="https://refactoringguru.cn/images/refactoring/diagrams/Pull Up Method - After.png?id=57193e5593115571e969abe471dfd9aa"/></div>
                                    </div>
            </div>
            </div>
    
    <h3>Why Refactor</h3>
<p>Subclasses grew and developed independently of one another, causing identical (or nearly identical) fields and methods.</p>
<h3>Benefits</h3>
<ul>
<li>
<p>Gets rid of duplicate code. If you need to make changes to a method, it's better to do so in a single place than have to search for all duplicates of the method in subclasses.</p>
</li>
<li>
<p>This refactoring technique can also be used if, for some reason, a subclass redefines a superclass method but performs what's essentially the same work.</p>
</li>
</ul>
<h3>How to Refactor</h3>
<ol>
<li>
<p>Investigate similar methods in superclasses. If they aren't identical, format them to match each other.</p>
</li>
<li>
<p>If methods use a different set of parameters, put the parameters in the form that you want to see in the superclass.</p>
</li>
<li>
<p>Copy the method to the superclass. Here you may find that the method code uses fields and methods that exist only in subclasses and therefore aren't available in the superclass. To solve this, you can:</p>
<ul>
<li>
<p>For fields: use either <a href="/pull-up-field">Pull Up Field</a> or Self-<a href="/encapsulate-field">Encapsulate Field</a> to create getters and setters in subclasses; then declare these getters abstractly in the superclass.</p>
</li>
<li>
<p>For methods: use either <a href="/pull-up-method">Pull Up Method</a> or declare abstract methods for them in the superclass (note that your class will become abstract if it wasn't previously).</p>
</li>
</ul>
</li>
<li>
<p>Remove the methods from the subclasses.</p>
</li>
<li>
<p>Check the locations in which the method is called. In some places you may be able to replace use of a subclass with the superclass.</p>
</li>
</ol>


    <div class="prom banner-content banner banner-striped banner-with-image" data-id="Ref: Part of the ebook" data-creative-id="animated-en" data-position="content_bottom">
        <div class="banner-image">
            <a href="/refactoring/course">
                <video id="banner-zzz" loop="" muted="" playsinline="" width="200" height="200">
                    <source src="/images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56" type="video/mp4">
                    <source src="/images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4" type="image/png">
                    Your browser does not support HTML video.
                </source></source></video>
            </a>
        </div>
        <script>
            if (/CPU (?:iPhone )?OS [1-9]_/.test(navigator.userAgent)) {
                // Don't autoplay on old iOS, since it doesn not support playsinline.
            }
            else {
                document.getElementById('banner-zzz').play();
            }
        </script>

        <div class="banner-text">
            <h3 class="title">Tired of reading?</h3>
            <p class="big">No wonder, it takes <span class="blue">7 hours</span> to read all of the text we have here.</p>
            <p>Try our interactive course on refactoring. It offers a less tedious approach to learning new stuff.</p>
            <a class="btn btn-secondary" href="/refactoring/course"><i class="fa fa-star" aria-hidden="true"/> Let's see…</a>
        </div>
    </div>


        
</body>
</html>