<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Alternative Classes with Different Interfaces</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Alternative Classes with Different Interfaces</h1>
<blockquote>原文：<a href="https://refactoringguru.cn/smells/alternative-classes-with-different-interfaces">https://refactoringguru.cn/smells/alternative-classes-with-different-interfaces</a></blockquote>
    
    

    <script type="text/javascript">
        // Shorten examples titles for users.
        var h1 = document.getElementsByTagName("H1")[0];
        if (h1.offsetHeight &amp;gt; 160) {
            h1.className += ' smaller';
        }

        // Small beautification for pattern examples.
        var title = h1.innerHTML;
        title = title.replace(/^(Java|C\+\+|C#|PHP|Python|Ruby|Delphi): (.*)$/, '&amp;lt;strong&amp;gt;$1:&amp;lt;/strong&amp;gt; $2');
        h1.innerHTML = title;
    </script>

                
    <h3>Signs and Symptoms</h3>
<p>Two classes perform identical functions but have different method names.</p>
<figure class="image"><img width="500" height="300" src="../Images/aa4b4e96c62a48d9a8d2cdadd7817984.png" srcset="/images/refactoring/content/smells/alternative-classes-with-different-interfaces-01-2x.png?id=00f0e52d679514e0c16e836e7cee5c24 2x" data-original-src="https://refactoringguru.cn/images/refactoring/content/smells/alternative-classes-with-different-interfaces-01.png?id=e5fccb2e5390e0a62b5c9f56029bd361"/></figure>
<h3>Reasons for the Problem</h3>
<p>The programmer who created one of the classes probably didn't know that a functionally equivalent class already existed.</p>
<h3>Treatment</h3>
<p>Try to put the interface of classes in terms of a common denominator:</p>
<ul>
<li>
<p><a href="/rename-method">Rename Method</a>s to make them identical in all alternative classes.</p>
</li>
<li>
<p><a href="/move-method">Move Method</a>, <a href="/add-parameter">Add Parameter</a> and <a href="/parameterize-method">Parameterize Method</a> to make the signature and implementation of methods the same.</p>
</li>
<li>
<p>If only part of the functionality of the classes is duplicated, try using <a href="/extract-superclass">Extract Superclass</a>. In this case, the existing classes will become subclasses.</p>
</li>
<li>
<p>After you have determined which treatment method to use and implemented it, you may be able to delete one of the classes.</p>
</li>
</ul>
<h3>Payoff</h3>
<ul>
<li>
<p>You get rid of unnecessary duplicated code, making the resulting code less bulky.</p>
</li>
<li>
<p>Code becomes more readable and understandable (you no longer have to guess the reason for creation of a second class performing the exact same functions as the first one).</p>
</li>
</ul>
<figure class="image"><img width="500" height="300" src="../Images/82a2d20e8cb101e85d90221c3744b5d5.png" srcset="/images/refactoring/content/smells/alternative-classes-with-different-interfaces-02-2x.png?id=db011d16b1dcea2e68d252eb435e63ef 2x" loading="lazy" data-original-src="https://refactoringguru.cn/images/refactoring/content/smells/alternative-classes-with-different-interfaces-02.png?id=669874e082965799a70076a120288c6a"/></figure>
<h3>When to Ignore</h3>
<ul>
<li>Sometimes merging classes is impossible or so difficult as to be pointless. One example is when the alternative classes are in different libraries that each have their own version of the class.</li>
</ul>

    <div class="prom banner-content banner banner-striped banner-with-image" data-id="Ref: Part of the ebook" data-creative-id="animated-en" data-position="content_bottom">
        <div class="banner-image">
            <a href="/refactoring/course">
                <video id="banner-zzz" loop="" muted="" playsinline="" width="200" height="200">
                    <source src="/images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56" type="video/mp4">
                    <source src="/images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4" type="image/png">
                    Your browser does not support HTML video.
                </source></source></video>
            </a>
        </div>
        <script>
            if (/CPU (?:iPhone )?OS [1-9]_/.test(navigator.userAgent)) {
                // Don't autoplay on old iOS, since it doesn not support playsinline.
            }
            else {
                document.getElementById('banner-zzz').play();
            }
        </script>

        <div class="banner-text">
            <h3 class="title">Tired of reading?</h3>
            <p class="big">No wonder, it takes <span class="blue">7 hours</span> to read all of the text we have here.</p>
            <p>Try our interactive course on refactoring. It offers a less tedious approach to learning new stuff.</p>
            <a class="btn btn-secondary" href="/refactoring/course"><i class="fa fa-star" aria-hidden="true"/> Let's see…</a>
        </div>
    </div>

    
</body>
</html>