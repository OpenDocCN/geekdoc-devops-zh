<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Push Down Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Push Down Method</h1>
<blockquote>原文：<a href="https://refactoringguru.cn/push-down-method">https://refactoringguru.cn/push-down-method</a></blockquote>
    
    

    <script type="text/javascript">
        // Shorten examples titles for users.
        var h1 = document.getElementsByTagName("H1")[0];
        if (h1.offsetHeight &amp;gt; 160) {
            h1.className += ' smaller';
        }

        // Small beautification for pattern examples.
        var title = h1.innerHTML;
        title = title.replace(/^(Java|C\+\+|C#|PHP|Python|Ruby|Delphi): (.*)$/, '&amp;lt;strong&amp;gt;$1:&amp;lt;/strong&amp;gt; $2');
        h1.innerHTML = title;
    </script>

    
    

    <div class="before-after-container">
        <div class="before">
            <h3>Problem</h3>
            <p>Is behavior implemented in a superclass used by only one (or a few) subclasses?</p>

        </div>
        <div class="after">
            <h3>Solution</h3>
            <p>Move this behavior to the subclasses.</p>

        </div>
    </div>

        <div class="examples">
                    <div class="before-after before-after-container ">
                <div class="before">
                    <div class="ba">Before</div>
                                            <div class="ba-container"><img src="../Images/aaff5c194ce1f6fabbd971f8caa3e91b.png" alt="Push Down Method - Before" width="452" data-original-src="https://refactoringguru.cn/images/refactoring/diagrams/Push Down Method - Before.png?id=ed31b8dcbc3c98fc668ce95cff9f76a8"/></div>
                                    </div>
                <div class="after">
                    <div class="ba">After</div>
                                            <div class="ba-container"><img src="../Images/dbf2a0b3b15c2ee1a135293a1be0678c.png" alt="Push Down Method - After" width="452" data-original-src="https://refactoringguru.cn/images/refactoring/diagrams/Push Down Method - After.png?id=dcf9788fec0c13fb8e60fe494d481529"/></div>
                                    </div>
            </div>
            </div>
    
    <h3>Why Refactor</h3>
<p>At first a certain method was meant to be universal for all classes but in reality is used in only one subclass. This situation can occur when planned features fail to materialize.</p>
<p>Such situations can also occur after partial extraction (or removal) of functionality from a class hierarchy, leaving a method that's used in only one subclass.</p>
<p>If you see that a method is needed by more than one subclass, but not all of them, it may be useful to create an intermediate subclass and move the method to it. This allows avoiding the code duplication that would result from pushing a method down to all subclasses.</p>
<h3>Benefits</h3>
<ul>
<li>Improves class coherence. A method is located where you expect to see it.</li>
</ul>
<h3>How to Refactor</h3>
<ol>
<li>
<p>Declare the method in a subclass and copy its code from the superclass.</p>
</li>
<li>
<p>Remove the method from the superclass.</p>
</li>
<li>
<p>Find all places where the method is used and verify that it's called from the necessary subclass.</p>
</li>
</ol>


    <div class="prom banner-content banner banner-striped banner-with-image" data-id="Ref: Part of the ebook" data-creative-id="animated-en" data-position="content_bottom">
        <div class="banner-image">
            <a href="/refactoring/course">
                <video id="banner-zzz" loop="" muted="" playsinline="" width="200" height="200">
                    <source src="/images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56" type="video/mp4">
                    <source src="/images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4" type="image/png">
                    Your browser does not support HTML video.
                </source></source></video>
            </a>
        </div>
        <script>
            if (/CPU (?:iPhone )?OS [1-9]_/.test(navigator.userAgent)) {
                // Don't autoplay on old iOS, since it doesn not support playsinline.
            }
            else {
                document.getElementById('banner-zzz').play();
            }
        </script>

        <div class="banner-text">
            <h3 class="title">Tired of reading?</h3>
            <p class="big">No wonder, it takes <span class="blue">7 hours</span> to read all of the text we have here.</p>
            <p>Try our interactive course on refactoring. It offers a less tedious approach to learning new stuff.</p>
            <a class="btn btn-secondary" href="/refactoring/course"><i class="fa fa-star" aria-hidden="true"/> Let's see…</a>
        </div>
    </div>


        
</body>
</html>