<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Feature Envy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Feature Envy</h1>
<blockquote>原文：<a href="https://refactoringguru.cn/smells/feature-envy">https://refactoringguru.cn/smells/feature-envy</a></blockquote>
    
    

    <script type="text/javascript">
        // Shorten examples titles for users.
        var h1 = document.getElementsByTagName("H1")[0];
        if (h1.offsetHeight &amp;gt; 160) {
            h1.className += ' smaller';
        }

        // Small beautification for pattern examples.
        var title = h1.innerHTML;
        title = title.replace(/^(Java|C\+\+|C#|PHP|Python|Ruby|Delphi): (.*)$/, '&amp;lt;strong&amp;gt;$1:&amp;lt;/strong&amp;gt; $2');
        h1.innerHTML = title;
    </script>

                
    <h3>Signs and Symptoms</h3>
<p>A method accesses the data of another object more than its own data.</p>
<figure class="image"><img width="500" height="300" src="../Images/87d286f1ec233b36dd207476329160ef.png" srcset="/images/refactoring/content/smells/feature-envy-01-2x.png?id=4329322703e5af5b3ef7faefd17c4750 2x" data-original-src="https://refactoringguru.cn/images/refactoring/content/smells/feature-envy-01.png?id=f520a24562e3f4b7848eca94792c329f"/></figure>
<h3>Reasons for the Problem</h3>
<p>This smell may occur after fields are moved to a data class. If this is the case, you may want to move the operations on data to this class as well.</p>
<h3>Treatment</h3>
<p>As a basic rule, if things change at the same time, you should keep them in the same place. Usually data and functions that use this data are changed together (although exceptions are possible).</p>
<ul>
<li>
<p>If a method clearly should be moved to another place, use <a href="/move-method">Move Method</a>.</p>
</li>
<li>
<p>If only part of a method accesses the data of another object, use <a href="/extract-method">Extract Method</a> to move the part in question.</p>
</li>
<li>
<p>If a method uses functions from several other classes, first determine which class contains most of the data used. Then place the method in this class along with the other data. Alternatively, use <a href="/extract-method">Extract Method</a> to split the method into several parts that can be placed in different places in different classes.</p>
</li>
</ul>
<figure class="image"><img width="500" height="300" src="../Images/ce8c2259c2ce5eb1f7188a12648322a9.png" srcset="/images/refactoring/content/smells/feature-envy-02-2x.png?id=641faecaeb0d422232c0bcc6346352c5 2x" loading="lazy" data-original-src="https://refactoringguru.cn/images/refactoring/content/smells/feature-envy-02.png?id=a90a3545498c7c22e605ceeb1f23d005"/></figure>
<h3>Payoff</h3>
<ul>
<li>
<p>Less code duplication (if the data handling code is put in a central place).</p>
</li>
<li>
<p>Better code organization (methods for handling data are next to the actual data).</p>
</li>
</ul>
<figure class="image"><img width="500" height="300" src="../Images/85606fc9f7a9d66f8d0e9cfe3e622e78.png" srcset="/images/refactoring/content/smells/feature-envy-03-2x.png?id=d8d24af45285db63e68560788e6240bc 2x" loading="lazy" data-original-src="https://refactoringguru.cn/images/refactoring/content/smells/feature-envy-03.png?id=ea63eeab9eda1910348d0930c8592780"/></figure>
<h3>When to Ignore</h3>
<ul>
<li>Sometimes behavior is purposefully kept separate from the class that holds the data. The usual advantage of this is the ability to dynamically change the behavior (see <a href="/design-patterns/strategy">Strategy</a>, <a href="/design-patterns/visitor">Visitor</a> and other patterns).</li>
</ul>

    <div class="prom banner-content banner banner-striped banner-with-image" data-id="Ref: Part of the ebook" data-creative-id="animated-en" data-position="content_bottom">
        <div class="banner-image">
            <a href="/refactoring/course">
                <video id="banner-zzz" loop="" muted="" playsinline="" width="200" height="200">
                    <source src="/images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56" type="video/mp4">
                    <source src="/images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4" type="image/png">
                    Your browser does not support HTML video.
                </source></source></video>
            </a>
        </div>
        <script>
            if (/CPU (?:iPhone )?OS [1-9]_/.test(navigator.userAgent)) {
                // Don't autoplay on old iOS, since it doesn not support playsinline.
            }
            else {
                document.getElementById('banner-zzz').play();
            }
        </script>

        <div class="banner-text">
            <h3 class="title">Tired of reading?</h3>
            <p class="big">No wonder, it takes <span class="blue">7 hours</span> to read all of the text we have here.</p>
            <p>Try our interactive course on refactoring. It offers a less tedious approach to learning new stuff.</p>
            <a class="btn btn-secondary" href="/refactoring/course"><i class="fa fa-star" aria-hidden="true"/> Let's see…</a>
        </div>
    </div>

    
</body>
</html>