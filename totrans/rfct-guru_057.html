<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Organizing Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Organizing Data</h1>
<blockquote>原文：<a href="https://refactoringguru.cn/refactoring/techniques/organizing-data">https://refactoringguru.cn/refactoring/techniques/organizing-data</a></blockquote>
    
    

    <script type="text/javascript">
        // Shorten examples titles for users.
        var h1 = document.getElementsByTagName("H1")[0];
        if (h1.offsetHeight &amp;gt; 160) {
            h1.className += ' smaller';
        }

        // Small beautification for pattern examples.
        var title = h1.innerHTML;
        title = title.replace(/^(Java|C\+\+|C#|PHP|Python|Ruby|Delphi): (.*)$/, '&amp;lt;strong&amp;gt;$1:&amp;lt;/strong&amp;gt; $2');
        h1.innerHTML = title;
    </script>

                
    <p>These refactoring techniques help with data handling, replacing primitives with rich class functionality.</p>
<p>Another important result is untangling of class associations, which makes classes more portable and reusable.</p>
<div class="relations link-list">
  <div class="dl"><div class="dt"><a href="/self-encapsulate-field">Self Encapsulate Field</a></div><div class="dd">
<p><strong>Problem:</strong> You use direct access to private fields inside a class.</p>
<p><strong>Solution:</strong> Create a getter and setter for the field, and use only them for accessing the field.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/replace-data-value-with-object">Replace Data Value with Object</a></div><div class="dd">
<p><strong>Problem:</strong> A class (or group of classes) contains a data field. The field has its own behavior and associated data.</p>
<p><strong>Solution:</strong> Create a new class, place the old field and its behavior in the class, and store the object of the class in the original class.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/change-value-to-reference">Change Value to Reference</a></div><div class="dd">
<p><strong>Problem:</strong> So you have many identical instances of a single class that you need to replace with a single object.</p>
<p><strong>Solution:</strong> Convert the identical objects to a single reference object.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/change-reference-to-value">Change Reference to Value</a></div><div class="dd">
<p><strong>Problem:</strong> You have a reference object that's too small and infrequently changed to justify managing its life cycle.</p>
<p><strong>Solution:</strong> Turn it into a value object.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/replace-array-with-object">Replace Array with Object</a></div><div class="dd">
<p><strong>Problem:</strong> You have an array that contains various types of data.</p>
<p><strong>Solution:</strong> Replace the array with an object that will have separate fields for each element.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/duplicate-observed-data">Duplicate Observed Data</a></div><div class="dd">
<p><strong>Problem:</strong> Is domain data stored in classes responsible for the GUI?</p>
<p><strong>Solution:</strong> Then it's a good idea to separate the data into separate classes, ensuring connection and synchronization between the domain class and the GUI.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/change-unidirectional-association-to-bidirectional">Change Unidirectional Association to Bidirectional</a></div><div class="dd">
<p><strong>Problem:</strong> You have two classes that each need to use the features of the other, but the association between them is only unidirectional.</p>
<p><strong>Solution:</strong> Add the missing association to the class that needs it.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/change-bidirectional-association-to-unidirectional">Change Bidirectional Association to Unidirectional</a></div><div class="dd">
<p><strong>Problem:</strong> You have a bidirectional association between classes, but one of the classes doesn't use the other's features.</p>
<p><strong>Solution:</strong> Remove the unused association.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/replace-magic-number-with-symbolic-constant">Replace Magic Number with Symbolic Constant</a></div><div class="dd">
<p><strong>Problem:</strong> Your code uses a number that has a certain meaning to it.</p>
<p><strong>Solution:</strong> Replace this number with a constant that has a human-readable name explaining the meaning of the number.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/encapsulate-field">Encapsulate Field</a></div><div class="dd">
<p><strong>Problem:</strong> You have a public field.</p>
<p><strong>Solution:</strong> Make the field private and create access methods for it.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/encapsulate-collection">Encapsulate Collection</a></div><div class="dd">
<p><strong>Problem:</strong> A class contains a collection field and a simple getter and setter for working with the collection.</p>
<p><strong>Solution:</strong> Make the getter-returned value read-only and create methods for adding/deleting elements of the collection.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/replace-type-code-with-class">Replace Type Code with Class</a></div><div class="dd">
<p><strong>Problem:</strong> A class has a field that contains type code. The values of this type aren't used in operator conditions and don't affect the behavior of the program.</p>
<p><strong>Solution:</strong> Create a new class and use its objects instead of the type code values.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/replace-type-code-with-subclasses">Replace Type Code with Subclasses</a></div><div class="dd">
<p><strong>Problem:</strong> You have a coded type that directly affects program behavior (values of this field trigger various code in conditionals).</p>
<p><strong>Solution:</strong> Create subclasses for each value of the coded type. Then extract the relevant behaviors from the original class to these subclasses. Replace the control flow code with polymorphism.</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/replace-type-code-with-state-strategy">Replace Type Code with State/Strategy</a></div><div class="dd">
<p><strong>Problem:</strong> You have a coded type that affects behavior but you can't use subclasses to get rid of it.</p>
<p><strong>Solution:</strong> Replace type code with a state object. If it's necessary to replace a field value with type code, another state object is "plugged in".</p>
</div></div>
  <div class="dl"><div class="dt"><a href="/replace-subclass-with-fields">Replace Subclass with Fields</a></div><div class="dd">
<p><strong>Problem:</strong> You have subclasses differing only in their (constant-returning) methods.</p>
<p><strong>Solution:</strong> Replace the methods with fields in the parent class and delete the subclasses.</p>
</div></div>
</div>

        
</body>
</html>