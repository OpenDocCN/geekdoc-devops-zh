# 什么是云爆？管理混合云| CircleCI 上的零星工作负载

> 原文：<https://circleci.com/blog/what-is-cloud-bursting/>

DevOps 领域正在进行一场伟大的向云的集体迁移。企业正在分散他们的应用程序和数据库，将它们托管在云中，使它们不受地理位置或用户设备的影响。

一些组织选择在私有服务器上托管他们的应用程序，但是在高需求时期，通过将溢出流量导向云服务器来利用公共云。这种方法叫做**云爆发**。

您可以使用云爆发来保持您的服务不受中断，同时有效地分配资源。您可以将多余的计算工作卸载到公共云提供商，并将敏感或低延迟工作保留在您的私有云及内部基础架构上，如物理上位于数据中心的服务器和任何关联的虚拟机(VM)。一些公司选择外包他们的私有云托管。

如果您提供的服务经历了短暂的流量显著增加，计算需求可能会超出您的私有云的容量，并影响您的用户体验。结合了公共和私有基础设施的混合云方法使您能够处理假期期间电子商务增长的季节，或者导致重要发布或发货日期的开发工作。它还解决了您的组织没有确切模型的任何意外工作负载。

每种方法都提出了不同的挑战，因此了解每种部署类型可能对您的优先级产生的影响是有好处的。例如，混合云引入了公共云固有的安全挑战和体系结构考虑因素。需要隔离且高度安全的网络的组织可能会在内部运行其应用程序。

在本文中，我们将探讨什么是云爆发，了解如何以及何时实施云爆发，并讨论如何确定云爆发是否适合您的组织。

## 什么是云爆？

云爆发是一种混合云部署技术，其中私有云上的应用程序被配置为将溢出流量重定向到公共云中。这种重定向是为了应对超过私有云容量的计算资源需求，使应用程序或网络能够处理通常会淹没公司私有服务器的零星工作负载。

您可以在公共云中配置额外的计算资源，就像配置计量工具一样。通过购买时间和容量，您只需为您在公共云中使用的内容付费。当需求低于最大容量时，应用程序或数据会移回您的私有云。

跨越这个阈值的接近和切换是平滑的。随着对计算资源的需求接近您的系统可以处理的程度，应用程序会自动切换到公共云，而不会中断应用程序的服务和用户体验。

您可以使用这种技术来管理关键和非敏感应用程序，为关键和敏感应用程序释放私有云上的资源。

## 云爆发策略

您可以将云爆发配置为手动部署或根据您在软件中指定的策略进行部署。

### 手动爆破

手动突发允许您在遇到或预计流量增加时手动分配对云资源的访问。在手动分配突发容量之前，无需等待负载平衡器发送通知。

例如，假设你为一家公司工作，该公司计划在一个受欢迎的体育赛事期间投放广告。你应该提前几天提供足够的云爆发能力，并对其进行[负载测试](https://circleci.com/blog/api-load-tests/)，以确保它能够满足潜在需求。

通过创建大型临时云部署，您可以为业务关键型应用程序释放空间或本地资源。例如，您组织的人工智能团队可以在内部训练和测试他们的模型，然后购买额外的容量来在大型数据集上训练大型模型。

手动拆分让您可以在部署之前测试云拆分项目，但是这种技术在关键点需要人力。在手动突发的每一种情况下，当需求下降时，您都需要手动取消所有这些云资源的供应。这让你容易犯人为错误。毕竟，云容量是一种昂贵的商品，一旦你提供了它，你就承诺了交易——即使你不使用容量。

### 自动爆裂

自动云爆发涉及设置指导软件如何处理爆发的策略，它将在不需要人工监督的情况下完成。

当您预计流量会出现峰值，但不知道峰值会在何时出现或有多突出时，这种技术尤其适用。例如，一个电子商务网站预计在假期期间会出现流量高峰，可以使用自动爆发来处理额外的负担，即使他们不确定他们的营销工作在那一年是否成功。

## 云爆发用例

到目前为止，所描述的大多数用例都展示了云爆发如何最适合峰值或不可预测的工作负载，或者两者兼而有之。让我们更深入地探索这些用例。

### 峰值负载

在重要的发布或发货日期之前，云爆发在[持续集成和持续交付(CI/CD)](https://circleci.com/continuous-integration/) 中可能是至关重要的。您可能有大型开发团队同时处理大型项目并同时运行许多构建，这需要比您的内部服务器所能容纳的更多的资源。

定期发布大量产品更新的大型组织可能会在内部处理类似这样的峰值。尽管如此，这样做的公司通常接近公共云提供商的规模。

### 不可预测的需求

您可以使用云爆发来处理不可预测的流量高峰。例如，您的组织可能不确定在新的营销推广期间流量峰值会有多大。手动拆分使您能够在活动期间准备好计算资源。

银行也受益于假日期间的云爆发。节日期间交易的急剧增加可能会耗尽银行的内部服务器资源。

即便如此，在这一年的剩余时间里拥有基础设施也是不值得的。将银行的一些非关键和非敏感应用程序分散到公共云中，可以为业务敏感应用程序释放内部资源。

## 云爆炸的优势和挑战

尽管云爆发提供了许多优势，但它也带来了一些新的挑战，对使用爆发有着重要的影响。云爆发提供的成本效益和灵活性也使维护数据和应用程序的完整性变得更加困难。它还会增加基础设施的复杂性。

爆破最大的好处是它的成本效益。您不需要放弃您的内部基础架构，以及它对您的底线的极小影响。您只需为高峰需求期间使用的公共计算资源付费，这是您不想在正常使用期间支付的容量。

在严格控制的条件下，访问私有云和公共云的优势，为您的部署提供了灵活性。您不会受限于内部拥有的计算资源。您可以利用新的研究、开发或其他业务机会，尤其是在大型数据集上测试应用程序或模型时。

不过，小心您的基础架构如何投射到公共云中是一个好主意。将您组织的一些资源从内部硬件移动到公共云可能会在意想不到的地方增加复杂性，例如给服务用户带来延迟。您可能会发现在您的内部服务器和公共云之间建立要求低延迟和高带宽的冗余连接非常困难。

将数据暴露给公共云也意味着，如果有人攻击公共云，数据可能会受到威胁。尽管成本高且相对不灵活，但组织使用私有云模式的主要原因是保护他们的数据和应用程序。因此，请仔细考虑是否以及如何配置您的云爆发，以处理您需要保留在本地的敏感和关键数据。

## 如何实施云爆发策略

要为云爆发配置您的服务，请确保您的基础架构已准备好进行部署，并且您的云是完全匹配的。

仔细选择适合您需求的云服务提供商。提供商是一个多样化的群体，他们的云产品适合不同的用途。要获得最佳的云爆发体验，请选择最能满足您的应用需求的云提供商。例如，您需要访问特定类型的服务器或 GPU，这可能是选择云提供商的一个因素。

你还必须准备好你的申请。选择正确的云提供商后，确保您的应用程序已准备好部署到公共云，并具备所需的所有依赖关系。实施保护应用程序及其数据所需的任何安全措施。

然后，设置负载平衡。设置您的本地服务器可以处理的预定义流量阈值。当本地工作负载达到此阈值时，您的应用程序会通过在本地服务器和公共云基础架构之间拆分请求来自动切换到公共云。

## 如何决定云爆炸是否是您组织的正确方法

云爆发使组织能够扩展其业务，而无需在内部安装和维护额外的资源。这些资源是一种间接能力，你不太可能经常使用，以使投资合理。

请记住，云爆炸还会带来安全挑战，因为它可能会将敏感数据部署到公共云中。在实施云爆发之前，权衡经济高效的需求和维护数据完整性的需求。

如果您的组织运行不太敏感的服务或应用程序，或者如果您在公共云提供商受到攻击时基本不受影响，您可以使用云爆发来确保自己免受需求高峰导致的服务中断。

但是，如果安全性比成本效益更重要，那么爆发可能不是一个可行的解决方案。一些安全性敏感的工作负载必须只能在内部运行。

当您准备在软件交付策略中实施云爆发和混合云方法时，自动化 CI/CD 工具可以提供帮助。当你的应用遇到暂时的流量高峰，或者当你的开发者需要更多的资源来应对即将到来的发布日期时，CI/CD 管道可以将代码推送到云端。要了解更多关于 CI/CD 如何帮助您的团队管理高峰工作负载的信息，请阅读[混合云 CI/CD](https://circleci.com/resources/hybrid-cloud/)，并从[免费 CircleCI 账户](https://circleci.com/signup/)开始。