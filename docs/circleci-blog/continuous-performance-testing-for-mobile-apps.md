# 移动应用的持续性能测试| CircleCI

> 原文：<https://circleci.com/blog/continuous-performance-testing-for-mobile-apps/>

截至 2021 年，应用商店中大约有 570 万个移动应用程序，其中 220 万个用于 iOS，348 万个用于 Android 用户。鉴于数量庞大，客户有各种各样的选择。

有如此多的应用可用，客户满意度是最重要的，这意味着避免客户流失和留住用户。有什么比看着你的客户转向你的竞争对手，因为他们有一个更强大、更一致的类似应用程序版本更令人沮丧的吗？

抓住用户注意力的最好方法是给他们一个直观的高性能的用户体验。性能测试只是您可以用来获得这一结果的有用策略之一。

移动应用性能测试可主动识别应用中的故障、漏洞和性能瓶颈，帮助您保持用户满意度。毕竟，移动应用程序用户如果对它的性能不满意，会毫不犹豫地删除你的应用程序。在将应用程序投入生产之前进行有效的性能测试对于避免这种情况至关重要。

在本文中，我们将探索移动应用持续性能测试的好处，重点介绍持续性能测试工具，并了解如何将性能测试添加到 CI 渠道中。

## 什么是性能测试？

性能测试是一个非功能性测试过程，用于衡量应用在不同工作负载下的表现。性能测试分析系统指标，如速度、响应性和稳定性。有了这些测试的结果，您就可以在发布软件之前识别并纠正与性能相关的瓶颈。这些测试检查各种指标，如响应时间、并发用户、加载时间、CPU 寿命和瓶颈，以预测用户在使用您的应用程序时可能会遇到的问题。

如果没有性能测试，用户可能会遇到可用性问题或体验不一致的服务。性能停机不仅会导致收入损失，还会损害您的市场声誉。

在性能测试过程中，您可以进行几个子类别的测试。这五种主要类型是:

*   峰值测试—峰值测试确定您的系统如何应对突发流量。峰值测试是通过快速增加用户生成的音量并测量软件对此的响应来完成的。
*   负载测试—负载测试在真实负载条件下评估应用程序。负载测试的主要目的是观察应用程序如何应对变化的额外负载以及软件可以承受的最大负载(用户数量)。
*   容量测试——容量测试的主要目的是监控软件是否能够处理数据库中的大量数据。容量测试有助于您识别系统中的突破点。
*   压力测试——压力测试评估应用程序在超出正常使用模式时的运行情况。这是通过用许多并发事务或用户加载软件并测试其稳定性来实现的。
*   浸泡测试—也称为耐久性测试，浸泡测试测试您的软件和应用程序在长时间暴露于高流量时的性能。它揭示了通常在几天或几周后发生的可靠性问题。

这些测试中的每一个都使您能够更好地理解应用程序不同组件的可执行性和可靠性。然而，运行移动性能测试是相当苛刻的。这是因为测试人员必须考虑各种各样的可用设备，每个设备都有多个 UI 选项和不同级别的网络连接。

总之，这些因素使得移动测试变得复杂。因此，为了帮助执行这些测试，开发人员经常求助于以下工具来对移动应用进行性能测试:

*   load ninja——load ninja 是一个基于云的测试工具，运行负载和性能测试。这个工具让用户使用真正的浏览器，而不是负载模拟器。其易于使用的界面提供了实时分析选项，并将脚本创建时间减少了 60%。
*   Apache JMeter——Apache JMeter 是一个基于 Java 的开源测试工具，用于测量应用程序的性能。其高度可扩展的核心使开发人员能够测试各种用例。除此之外，它还兼容多种网络协议，如 HTTP、HTTPS、POP3、SOAP、LDAP 和 FTP 服务。
*   WebLOAD — WebLOAD 是一款流行的企业级移动应用测试工具，它将所有性能监控元素整合到一个流程中，以简化应用测试。使用 WebLOAD，测试人员可以检查可伸缩性和性能，并执行验证测试。

### 性能测试移动应用的优势

如果你希望你的应用程序长期成功，市场饱和和用户期望使得高性能是不可协商的。一个移动应用程序只有在稳定可靠的情况下才会获得五星评级。通过测量应用程序软件可用性的重要属性，如速度、准确性和稳定性，性能测试可以确保只有高质量的应用程序才能投入生产。通过优先考虑用户体验，您可以帮助您的团队为客户提供符合性能预期的市场就绪型应用。

例如，当开发人员运行负载测试时，他们试图了解应用程序在高负载下的行为。该测试让他们了解了应用程序的流量负载和最大用户数。类似地，当测试人员进行性能回归测试时，它让他们深入了解应用程序的局限性，并提供其速度和准确性的现实视图。

简而言之，性能测试在应用上线之前就暴露了它的缺点，使你能够主动工作，并确保没有任何问题或错误会影响你的应用的整体性能和声誉。

### CI 管道中的连续性能测试

传统的瀑布式测试方法需要数周时间来交付结果。它根本不适合应对当前快速测试和发布的挑战，而移动应用需要新版本、更新和更多集成。

[持续集成/持续开发(CI/CD)](https://circleci.com/continuous-integration/#continuous-integration-ci-vs-continuous-deployment-cd) 自动化测试构建的集成和部署，并确保用户尽快获得应用的最新测试版本。此外，通过将性能测试整合到 [CI 管道](https://circleci.com/blog/what-is-a-ci-cd-pipeline/)中，可以精确地知道每个变化对你的应用性能的影响。

您可以在 CI 管道中实施性能测试，以测试功能性和非功能性测试指标，如速度、可伸缩性或响应性，从而确保负载模式是真实的，并与现实环境相协调。

在持续的性能测试中，测试被分解成更小的反馈循环，这样开发人员可以更快地收到测试结果，并且可以更快地检测和修复错误。以下是将持续性能测试集成到 CI 渠道中时要遵循的一般步骤:

1.  选择要测试的关键绩效指标(KPI)。根据您的目标，您的 KPI 可能是错误率、并发性、吞吐量、崩溃、加载时间等等。
2.  组织数据并编写性能测试。
3.  选择合适的测试平台环境。理想情况下，您应该选择基于云的 CI/CD 平台，以便在需要时扩展测试。
4.  在 CI 管道中执行性能测试。我们建议使用 CLI 进行测试；速度更快，效率更高。
5.  为了获得更快的反馈并优化您的管道，您还可以运行测试套件的并行执行。
6.  当您提交代码时，CI 测试床环境将运行该代码，并检查新代码是否导致了任何回归。
7.  当您的系统通过测试后，它将被部署到生产环境中。如果失败，结果将被发回给开发人员进行反馈和审查。借助 CI 工具强大的分析功能，工程师可以可视化问题并进行根本原因分析。
8.  最后，在执行完成后，销毁测试环境。这可以防止新测试运行时出现假阳性。

使用上面的步骤，您可以持续测试您的移动应用程序的关键质量，以确保它在发布给用户时是高性能和可靠的。当性能测试作为 CI 管道的一部分来实现时，它会变得更加有效。

此外，CI 管道中的持续性能测试可缩短应用的上市时间，使您的团队能够更快地解决问题，帮助修复 bug，防止中断，让您在各种情况下执行多个测试，并帮助您比较多个测试的性能结果。

## 结论

得知你的应用已经崩溃的最糟糕的时候是当它已经在生产的时候。糟糕的应用程序性能会导致客户流失，并影响应用程序的长期未来。为了跟上竞争并获得(和保留)用户，尝试使用性能测试，这有助于确保您的应用程序满足性能预期。

对于您的团队来说，性能测试可能感觉像是一个额外的步骤，可能会使他们放慢速度。然而，通过使持续的性能测试成为 CI 管道中的一个步骤，您可以使您的测试过程更加简化和高效。简化的连续测试过程可以减少重复性的手工任务，将开发人员解放出来从事其他工作。自动化测试和应用程序代码在 CI 管道中的移动确保您的团队不会错过任何测试。

CircleCI 支持高性能、可靠的移动应用程序开发，并使向 CI 渠道添加性能测试变得容易。为了持续提供快速可靠的移动应用体验，[立即注册](https://circleci.com/signup/)。