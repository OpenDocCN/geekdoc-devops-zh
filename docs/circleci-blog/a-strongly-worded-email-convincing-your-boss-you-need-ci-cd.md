# 一封措辞强硬的电子邮件，让你的老板相信你需要 CI/CD - CircleCI

> 原文：<https://circleci.com/blog/a-strongly-worded-email-convincing-your-boss-you-need-ci-cd/>

**来自出版商的说明:**您已经找到了我们的一些旧内容，这些内容可能已经过时和/或不正确。尝试在[我们的文档](https://circleci.com/docs/)或[博客](https://circleci.com/blog/)中搜索最新信息。

* * *

回想一下你上一次与经理的一对一谈话。

你去镇上散步了吗？你买咖啡了吗？你每次一对一的时候都喝咖啡吗？我希望不是，那是很多咖啡。这可能让你紧张，不是吗？让你很难组织有意义的词语。

你有一个新工具或流程的完美论点，但它在你的舌头上夭折了，因为咖啡因的毒性水平流过你的血管。是的，有时候言语很难。也很柔软。事实上，单词有各种各样的结构，这就是语言的美。

但我不是来和你谈论语言有多吸引人的。我在这里向你展示如何使用语言说服你的老板，持续集成和交付实际上是值得在你的组织中采用的概念。

这里有一封措辞强硬的电子邮件，你可以通过(微小的)编辑发给你的老板，让他们相信 CI/CD [是未来的](https://circleci.com/blog/its-the-future/)。

**到**:boss@busyness.com
到**；futureself@busyness.com
**主题**:CI/CD 案例**

 **嘿老板:

所以，我知道我应该写一份关于昨晚停电的事后分析。我已经完成了一些草稿；营销变得越来越令人兴奋，因为没有什么比长篇大论、详细解释我们是如何把事情搞砸的更吸引人了。这是因为工程师更喜欢看热闹和幸灾乐祸。

但是让我为你设置场景:

我们过去一直在推送代码。我们是硅谷的宠儿，在每周的市政厅会议上宣布特性、集成和插件。我们让我们的客户习惯于每天服用最新和最好的多巴胺，他们无法获得足够的多巴胺，因为总是有更多的。

那些日子已经过去了。

我们已经四个月没有推出新功能了。没有人理解代码库的可怕部分，因为 Leroy 在放弃与技术的所有联系并裸奔到荒野之前从未解释过它们。每个工程师都害怕做出实质性的改变，因为应用程序离崩溃只有一步之遥。

我们不能再保持这种极快的速度了，因为这实际上会折断我们的脖子，很可能会断掉我们的产品。没有人费心去清理技术垃圾。我们有大量的人工 QA，因为没有人信任我们的代码。正如昨晚的停电所证明的那样，我们进展缓慢，仍在打破常规。

“我不想要投诉；我想要解决方案，”你说。太好了，我完全同意。数字来了。

* * *

我们的平均承诺部署时间(CDT)约为 30 分钟。这是构建脱离代码审查并为部署做好准备所需的时间。以下是这 30 分钟的细目分类:

*   15 分钟构建和运行自动化测试
*   5 分钟构建和部署到试运行
*   10 分钟用于质量保证和抽查

一个 30 分钟的 CDT 看起来并不算长，但却有着涟漪效应:

30 分钟足够长了，工程师们会努力优化效率。提交一个仍然需要 30 分钟才能投入生产的一行程序并不是对时间的最佳利用，所以他们会将更多的代码压缩到一个拉请求中。

更长的拉取请求需要更多的时间来审查。审查代码已经需要[相当多的时间](http://swreflections.blogspot.com/2014/08/dont-waste-time-on-code-reviews.html)。当审查者被要求查看超过 400 行代码的[时，注意力就消失了。因此，对于更大数量的代码，您最终会得到更差的代码评审。](https://smartbear.com/learn/code-review/best-practices-for-peer-code-review/)

冗长的代码审查增加了请求变更的可能性。预计到这些变化，PR 的作者将不得不保持对更多代码的熟悉。即使他们设法在另一个特性上完成工作，他们仍然会产生切换上下文的[成本](https://www.joelonsoftware.com/2001/02/12/human-task-switches-considered-harmful/)。

当工程师进入部署队列时，也会产生同样的成本。在 30 分钟内，他们除了监视他们的构建和后续部署的状态之外，什么也不能做。这在时间和金钱上都是极大的浪费。

假设一名普通工程师的工资为 50 美元/小时，每天部署两次，那么每年就是 13，000 美元。对于我们的 8 名工程师团队来说，这是 104，000 美元/年。因此，我们的基础设施实际上花费了我们额外的工程师工资。太棒了。

使用 CircleCI 这样的 CI/CD 工具(明目张胆的植入式广告！！)会节省我们的时间和金钱。9，000 美元/年为我们购买了 16 个容器，在这些容器上，我们可以以 4 倍的速度运行 4 个并发构建。这对我们的 8 人团队来说非常有用，因为我们很少尝试一次部署 4 个以上的特性。

假设这种并行化将我们的自动化测试时间减少了一半:大约 8 分钟。我们还可以说，我们的工程师正在合并更小的、更可审查的变更，因为他们不再玩弄系统了。这些更小的 PRs 意味着 QA 更快，所以让我们将其缩短到 5 分钟。如果我们使用 CircleCI 构建/部署，那么可以节省大约 3 分钟。

所有这些使我们的 CDT 降到了 15 分钟。我们花了 9000 美元，拿回了 52000 美元，净收益为 43000 美元。

我们刚刚通过实施一种理念和工具收回了时间和金钱。

* * *

我明白这不会在一夜之间发生；这将在一周内发生，甚至可能超过一个月。但这必须发生。

编写好的测试很难，我们的许多工程师甚至不认为编写一般的测试是“完成任务”所必需的这些工程师是绝对正确的:如果你不介意代码库中有狗屎，那么编写测试并不是绝对必要的。

听着，人类不擅长长期思考；这只是[而不是我们如何连接](http://www.npr.org/templates/story/story.php?storyId=5530483)。因此，毫不奇怪，我们倾向于短期的成功，并尽可能快地推出新功能。

但是为了保持这个速度，我们需要放慢速度，调整我们的流程。我意识到这听起来违背直觉，但是如果我们想摆脱技术债务，回到我们都想做的事情上来:构建客户喜欢的软件，这是必要的。

让我们[让这一切发生](https://circleci.com/signup/)。

干杯，
未来的自己**