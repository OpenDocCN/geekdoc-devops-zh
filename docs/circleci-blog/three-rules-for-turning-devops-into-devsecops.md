# 漏洞扫描程序- DAST -安全 CI/CD | CircleCI & Probely

> 原文：<https://circleci.com/blog/three-rules-for-turning-devops-into-devsecops/>

## 为什么是 DevSecOps？

人们普遍认为，我们的开发和部署方法越快，就越容易出现安全问题。当我们到达一个开发敏捷、快速、实用的点时，我们开始问自己:这些都是安全的吗？更重要的是，如何提高我们项目的安全性？

随着 DevOps 实践在行业中的成熟，安全性被置于边缘，直到现在我们才开始看到改进。随着敏捷开发和快速代码部署，我们也看到了一波应用程序的快速漏洞引入。由于大多数 DevOps 栈优先考虑功能和速度而不是安全，从业者通常不愿意通过安全检查，因为这会减慢过程。然而，像 2018 年英国航空公司的[违规事件这样令人瞠目结舌的违规事件证明了改善我们的 DevOps 实践和整合尽可能多的安全检查是多么重要。尤其是在看到法律后果和英国航空公司最近面临的 GDPR 罚款(约 2.3 亿美元)之后。](https://blog.probely.com/the-british-airways-229-72-million-fine-what-happened-9ef32f11a03c?utm_medium=guestblog&utm_source=circleci&utm_campaign=circlecibblog&utm_content=blog)

## DevOps 与 DevSecOps

开发和运营的合并是非常自然的。开发团队和运营团队一直有着相同的目标:尽快向客户发布功能性应用。然而，安全似乎是这一进程中的一个障碍。开发和运营的目标是快速和功能性的发布。另一方面，由于所有的审计和耗时的测试，安全性似乎减缓了发布的速度，从而阻碍了开发运维过程。了解了这一点，许多开发人员将安全性视为软件开发生命周期(SDLC)的一个障碍而不是一个必要和补充的部分就不足为奇了。这就是“DevOps vs. DevSecOps”辩证法的来源。然而，最近我们看到许多安全从业者开始理解，如果安全不在 SDLC 中左移，它将在 DevOps 时代被忽略。安全性越早进入 SDLC，对敏捷开发人员的阻碍就越小。尽管在 DevOps 中加入安全性可能会稍微减慢开发过程，但它通常会缩短上市时间，并改善您公司的状况。

那么，DevOps 和 DevSecOps 是对立的吗？

尽管看起来是这样，但这两者并不矛盾。我们知道必须以某种方式关注安全性，除了在早期培养开发、运营和安全性之间的协同作用之外，还有什么更好的方式呢？让安全性成为工作流的重要组成部分并不一定意味着脱离开发运维，而是旧系统的进步。

那么，如何成功地把 DevOps 变成 DevSecOps 呢？

以下是一些规则或最佳实践，可帮助您实现这一目标:

## 规则#1:从简单开始并自动化

当试图将安全性整合到 DevOps 实践中时，我们会遇到两个问题:速度和缺乏安全意识。这就是为什么当你第一次开始将 DevOps 转变为 DevSecOps 时，你必须确保这个过程对于开发者来说是快速而顺利的。您希望将安全性“融入”您的开发生命周期。要做到这一点，重要的是要避免像误报、难以理解的安全工具和冗长的代码审查这样的麻烦困扰开发人员。同时，您希望在工作流中尽可能多地自动化安全性，以便可以尽早发现安全性问题。最重要的是，由于是开发人员来修复这些漏洞，您需要确保他们知道如何正确地修复它们，或者他们有正确的相关指导。

那么，你来这里的第一步是什么？

您必须确保开发人员能够轻松部署安全的应用程序，并且能够快速完成。要做到这一点，您将需要一个对开发人员来说可以理解和直观的工具，同时自动化您的安全测试过程。

这就是应用安全测试(AST)工具发挥作用的地方。有两种主要类型的 AST(有两种以上，但这些是最常见的):D(动态)AST 和 S(静态)AST。两者的区别在于，SAST 工具扫描代码的漏洞，而 DAST 工具在应用程序运行后扫描它。由于 DAST 工具试图像黑客一样攻击应用程序并发现安全问题，他们报告了更多相关的发现，并提供了关于漏洞的大量证据。SAST 扫描仪在这里看起来可能是正确的选择，因为他们在工作流程的早期扫描代码。然而，事实是 SAST 扫描仪报告了更多的误报，无关的发现可能会拒绝开发者。另一方面，开发人员更容易理解 DAST 结果，因为它们显示了漏洞的后果，开发人员可以了解风险有多严重。大多数好的 DAST 扫描器也有插件和强大的 API，可以让你将它们与流行的 CI 工具集成，比如 CircleCI。其中一些，比如 [Probely](https://probely.com?utm_medium=guestblog&utm_source=circleci&utm_campaign=circlecibblog&utm_content=blog) ，将为你的开发者提供定制的指导，告诉他们如何修复发现的问题。

DAST 扫描仪是将 DevOps 转变为 DevSecOps 的良好开端。它们使开发人员在处理漏洞扫描时不那么沮丧，并且更容易理解安全风险。DAST 扫描仪可以无缝集成到您的 CI/CD 管道中。

## 规则 2:分清主次

对于 DevSecOps 来说，速度是关键，而优先级是速度的关键。当涉及到将安全性集成到您已建立的 DevOps 实践中时，自动化和速度不应受到影响。为了实现这一点，你必须分清主次。您必须将每个应用程序和每个漏洞与风险对应起来。例如，您希望更加关注处理敏感客户信息的应用程序的安全性。此外，您需要了解每个漏洞的背景，并将其与您的企业或公司面临的潜在风险对应起来。当您这样做时，优先考虑具有高风险评分的漏洞。或许，作为一个 DAST 扫描仪，自动为你做部分工作。它根据上下文将漏洞分为三类:高、中、低。

优先级有助于你专注于重要的事情，并避免给你的开发人员带来太多的负担。这将有助于你与开发证券协同作用。

## 规则 3:示范和教育

当将安全性集成到您的公司中时，仅仅合并 DevSecOps 实践、设置规则并要求人们遵守它们是不够的。DevSecOps 更多的是关于公司文化，而不是一套程序实践。这是一种组织和思考的方式。您可以从对开发人员和其他员工进行安全教育开始。您可以从向他们提供这个 [web 应用程序安全清单](https://blog.probely.com/web-application-security-checklist-ee0479bf60c6)开始。通常，您公司的开发人员和员工不会理解安全性的重要性，并且会低估许多风险。为了对他们进行适当的教育，你需要演示这个过程和其中的风险。

对开发人员进行安全编码和安全意识的教育是不够的。贵公司的文化应该从整体上拥抱安全。除了向技术人员展示您的 DAST 工具提供的漏洞和利用证据之外，您还应该进行公司范围的演示。针对技术和非技术人员的伪造但精心制作的网络钓鱼和社会工程攻击带来了大量的可见性和参与度。因此，教育和提高对此的认识至关重要。您可以通过自己进行“模拟”网络钓鱼攻击来演示网络钓鱼攻击的含义。发一封恶意邮件，看看你公司有多少员工点击了链接，泄露了机密数据。这将有助于您展示此类攻击的风险，并教育非技术人员。

## 奖励规则:规则就是用来被打破的

DevOps 和 DevSecOps 的美妙之处在于，您可以变通现有的规则，也可以制定自己的规则。所以，如果这些规则在你的公司内部不兼容，不要担心，总有办法解决。请随意调整 DevSecOps 实践以适应您自己的情况。尝试不同的工具，看看你是否能负担得起 pentest 或 bug 奖金，在网络安全上投入时间和金钱，等等。用一套标准化的安全规则做事没有“正确的方法”。

## 我应该使用什么 DAST 工具？

有许多好的 DAST 工具和漏洞扫描器，但是您应该使用哪一个呢？答案取决于您的个人偏好、预算和公司规模，但一般来说，您会想要一个快速、易于与 CI 工具和其他应用程序集成的 DAST 工具，具有强大的 API，并为您的开发人员提供直观的用户界面和有关其发现的漏洞的相关信息(如何修复、证据、描述)。如果你正在使用 CircleCI，你会希望有一个 DAST 工具，有一个匹配的 [orb](https://circleci.com/orbs/) 。这样，您将能够轻松地将安全性集成到您的 CircleCI 工作流中。

为此，你可以使用 [Probely 的球](https://circleci.com/developer/orbs/orb/probely/security-scan)。Probely 允许您扫描您的 web 应用程序的 1000 多个漏洞，它具有上述所有功能。开发人员很欣赏 Probely，因为它很直观，可以显示相关信息。除了显示漏洞是真实存在的证据，Probely 还会检测用于构建应用程序的语言或技术，并在此基础上为用户提供定制的如何修复漏洞的指导。

* * *

这篇文章是我们制作的关于 DevSecOps 的系列文章的一部分。要阅读本系列的更多文章，请单击下面的链接之一。