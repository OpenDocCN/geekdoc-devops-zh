# ä½¿ç”¨ CircleCI | CircleCI å°† Gatsby ç«™ç‚¹éƒ¨ç½²åˆ° Netlify

> åŸæ–‡ï¼š<https://circleci.com/blog/gatsby-netlify-deploy/>

Gatsby æ˜¯ä¸€ä¸ªé™æ€ç½‘ç«™å’Œåº”ç”¨ç¨‹åºç”Ÿæˆå™¨ï¼Œå®ƒä½¿å¾—æ„å»ºå¼ºå¤§çš„åŸºäº React çš„å‰ç«¯åº”ç”¨ç¨‹åºå˜å¾—ç®€å•è€Œæœ‰æ•ˆã€‚GitHub ä¸Šæœ‰è¶…è¿‡äº”ä¸‡é¢—æ˜Ÿæ˜Ÿ(åœ¨æ’°å†™æœ¬æ–‡æ—¶ä¸º 51.5k)ï¼ŒGatsby æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„ [React](https://reactjs.org/) æ¡†æ¶ä¹‹ä¸€ã€‚Gatsby å¦‚æ­¤å—æ¬¢è¿ï¼Œä»¥è‡³äºå¤§å¤šæ•°æ‰˜ç®¡å¹³å°éƒ½æä¾›äº†å¯¹è¯¥æ¡†æ¶çš„å®šåˆ¶æ”¯æŒã€‚ [Netlify](https://www.netlify.com/) å°±æ˜¯è¿™äº›å¹³å°ä¸­çš„ä¸€ä¸ªã€‚è™½ç„¶ Netlify å¯¹ Gatsby çš„è‡ªå®šä¹‰æ”¯æŒæä¾›äº†æµç•…çš„éƒ¨ç½²ï¼Œä½†æœ‰ä¸€ä¸ªä¸»è¦ç¼ºç‚¹ã€‚Netlify æ§åˆ¶äº†å¤§éƒ¨åˆ†éƒ¨ç½²è¿‡ç¨‹ï¼Œè¿™æ„å‘³ç€æ‚¨çš„å›¢é˜Ÿä¸èƒ½æ‰§è¡Œåƒè¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•è¿™æ ·çš„å®šåˆ¶ä»»åŠ¡ã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•é€šè¿‡ä½¿ç”¨ CircleCI ä½œä¸ºè¿ç»­éƒ¨ç½²æœåŠ¡å™¨æ¥æ¥ç®¡éƒ¨ç½²è¿‡ç¨‹ã€‚é€šè¿‡ä½¿ç”¨æœ¬æ•™ç¨‹åˆ›å»ºçš„è®¾ç½®ï¼Œæ‚¨å°†èƒ½å¤Ÿåœ¨æœ€ç»ˆéƒ¨ç½²åˆ° Netlify ä¹‹å‰æ‰§è¡Œæ„å»ºè¿‡ç¨‹ä¸­æ‰€éœ€çš„ä»»ä½•è‡ªå®šä¹‰æ­¥éª¤ã€‚

## å…ˆå†³æ¡ä»¶

è¦éµå¾ªæœ¬æ•™ç¨‹ï¼Œéœ€è¦åšä¸€äº›äº‹æƒ…:

1.  ç³»ç»Ÿä¸Šå®‰è£…çš„ [Node.js](https://nodejs.org) (ç‰ˆæœ¬ 12.13 æˆ–æ›´æ–°)
2.  å‡€æ”¶ç›Šè´¦æˆ·
3.  ä¸€ä¸ª[åœ†](https://circleci.com/signup/)çš„è´¦æˆ·
4.  GitHub çš„ä¸€ä¸ªè´¦æˆ·

å®‰è£…å¹¶è®¾ç½®å¥½æ‰€æœ‰è¿™äº›ä¹‹åï¼Œæ‚¨å°±å¯ä»¥å¼€å§‹æœ¬æ•™ç¨‹äº†ã€‚

## åˆ›å»ºä¸€ä¸ªæ–°çš„ç›–èŒ¨æ¯”ç½‘ç«™

æ‚¨é¦–å…ˆéœ€è¦çš„æ˜¯ä¸€ä¸ªéƒ¨ç½²åˆ° Netlify çš„ Gatsby ç«™ç‚¹ã€‚åœ¨ç³»ç»Ÿä¸­æ‚¨é€‰æ‹©çš„ä»»ä½•ä½ç½®è¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
npm init gatsby 
```

è¯¥å‘½ä»¤è°ƒç”¨ Gatsby å®‰è£…ç¨‹åºå¹¶æ‰“å¼€ä¸€ä¸ªäº¤äº’å¼ CLI ä¼šè¯ï¼Œåœ¨è¯¥ä¼šè¯ä¸­ï¼Œç³»ç»Ÿä¼šæç¤ºæ‚¨å›ç­”å‡ ä¸ªé—®é¢˜æ¥è®¾ç½®æ‚¨çš„é¡¹ç›®ã€‚æ ¹æ®ä¸‹é¢çš„åˆ—è¡¨å›ç­”é—®é¢˜ã€‚è¯·æ³¨æ„ï¼Œç²—ä½“æ–‡æœ¬æ˜¯ä¸ºé—®é¢˜é€‰æ‹©çš„æ–‡æœ¬å›ç­”æˆ–é€‰é¡¹ï¼Œè€Œæ–œä½“æ–‡æœ¬æ˜¯è¦æ‰§è¡Œçš„æ“ä½œã€‚

*   ä½ æƒ³æŠŠä½ çš„ç½‘ç«™å«åšä»€ä¹ˆ:Netlify Gatsby ç½‘ç«™
*   æ‚¨å¸Œæœ›å°†åˆ›å»ºç½‘ç«™çš„æ–‡ä»¶å¤¹å‘½åä¸ºä»€ä¹ˆ:æŒ‰ Enter é”®æ¥å—é»˜è®¤å€¼
*   ä½ ä¼šä½¿ç”¨ CMS å—:ä¸ä¼š(æˆ–è€…æˆ‘ç¨åä¼šæ·»åŠ å®ƒ)
*   è¦ä¸è¦æ·»åŠ ä¸€ä¸ªé€ å‹ç³»ç»Ÿ:ä¸è¦(æˆ–è€…æˆ‘ä»¥åå†æ·»åŠ )
*   æ‚¨æƒ³ç”¨å…¶ä»–æ’ä»¶å®‰è£…é™„åŠ åŠŸèƒ½å—:é€‰æ‹©**æ·»åŠ  Markdown å’Œ MDX æ”¯æŒ**ï¼Œç‚¹å‡»**å®Œæˆ**ï¼Œç„¶åæŒ‰å›è½¦é”®
*   æˆ‘ä»¬å¯ä»¥è¿™æ ·åšå—:æŒ‰å›è½¦é”®ç¡®è®¤**æ˜¯**é€‰é¡¹

ä»¥ä¸‹æ˜¯é¡¹ç›®ååº”æµç¨‹çš„ cli è¾“å‡º:

```
What would you like to call your site?
âœ” Â· Netlify Gatsby Site
What would you like to name the folder where your site will be created?
âœ” 2021/ netlify-gatsby-site
âœ” Will you be using a CMS?
Â· No (or I'll add it later)
âœ” Would you like to install a styling system?
Â· No (or I'll add it later)
âœ” Would you like to install additional features with other plugins?
Â· Add Markdown and MDX support

Thanks! Here's what we'll now do:

    ğŸ›   Create a new Gatsby site in the folder netlify-gatsby-site
    ğŸ”Œ Install gatsby-plugin-mdx

? Shall we do this? (Y/n) â€º Yes 
```

å›ç­”å®Œé—®é¢˜åï¼Œé¡¹ç›®åˆ›å»ºå¼€å§‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ç»“æŸæ—¶ï¼Œæ‚¨å°†åœ¨`netlify-gatsby-site`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª Gatsby é¡¹ç›®ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œé¡¹ç›®:

```
cd netlify-gatsby-site
npm run develop 
```

è¿™å°†åœ¨æœ¬åœ° URL `http://localhost:8000`å¯åŠ¨ Gatsby ç«™ç‚¹ã€‚åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­è¾“å…¥æ­¤åœ°å€å³å¯è®¿é—®è¯¥ç½‘ç«™ã€‚

![Gatsby site - Local](img/f228a3d2a39599d5bcdd796388edbef1.png)

## è®¾ç½® GitHub é¡¹ç›®

ä¸‹ä¸€æ­¥æ˜¯åœ¨ GitHub ä¸Šå»ºç«‹æ‚¨çš„ Gatsby é¡¹ç›®ã€‚GitHub å®‰è£…å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨ Netlify å’Œ CircleCI ä¸Šå®‰è£…é¡¹ç›®äº†ã€‚åœ¨å°†æ‚¨çš„é¡¹ç›®æ¨é€åˆ° GitHub ä¹‹å‰ï¼Œæ‚¨éœ€è¦å®‰è£… [Netlify CLI](https://www.npmjs.com/package/netlify-cli) åŒ…ï¼Œä½œä¸ºæ‚¨çš„ Gatsby é¡¹ç›®ä¸­çš„å¼€å‘ä¾èµ–é¡¹ã€‚å¯¹äº CI ç¯å¢ƒä¸­çš„éƒ¨ç½²ï¼Œå»ºè®®è¿™æ ·åšï¼Œä»¥é¿å…ä¸­æ–­æ›´æ”¹ã€‚åœ¨ Gatsby é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ä¾èµ–é¡¹:

```
npm install --save-dev netlify-cli 
```

ä½ ç°åœ¨å¯ä»¥å°†ä½ çš„é¡¹ç›®æ¨é€åˆ° GitHub äº†ã€‚ä¸€æ—¦ä½ çš„é¡¹ç›®åœ¨ GitHub ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚ç»™è¿™ä¸ªåˆ†æ”¯å–ä»»ä½•ä½ æƒ³è¦çš„åå­—ï¼›å¯¹äºæœ¬æ•™ç¨‹ï¼Œæˆ‘å°†æŠŠå®ƒå‘½åä¸º`netlify-deploy-ignore`ã€‚

æ‚¨å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåˆ†æ”¯ã€‚Netlify éœ€è¦ä¸€ä¸ªé¡¹ç›®åˆ†æ”¯æ¥è‡ªåŠ¨è§¦å‘åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ã€‚å½“æ›´æ”¹è¢«æ¨é€åˆ°è¿™ä¸ªåˆ†æ”¯æ—¶ï¼ŒNetlify å°†å¯åŠ¨éƒ¨ç½²è¿‡ç¨‹ã€‚æ‚¨å¸Œæœ›é¿å… Netlify å’Œ CircleCI ç®¡é“å¹¶è¡Œè¿è¡Œä¸¤ä¸ªéƒ¨ç½²è¿›ç¨‹çš„æƒ…å†µã€‚è¿™ä¸ªæ–°çš„åˆ†æ”¯å……å½“äº† Netlify ç›‘è§†çš„è¯±é¥µã€‚ä¸è¦å°†æ›´æ”¹æ¨é€åˆ°æ­¤åˆ†æ”¯ã€‚å…¶ç›®çš„æ˜¯â€œåˆ†æ•£â€Netlify éƒ¨ç½²è¿‡ç¨‹çš„æ³¨æ„åŠ›ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ CircleCI è¿›è¡Œéƒ¨ç½²ã€‚ä½ å¯ä»¥åœ¨ GitHub ä¸Šè®¾ç½®ä¸€ä¸ªå—ä¿æŠ¤çš„åˆ†æ”¯ï¼Œè¿™æ ·ä½ çš„å›¢é˜Ÿä¸­å°±æ²¡æœ‰äººä¼šè¯¯æŠŠå®ƒæ¨ä¸Šæ¥ã€‚

## åˆ›å»º Netlify åº”ç”¨ç¨‹åº

è¦åˆ›å»ºæ–°çš„ Netlify åº”ç”¨ç¨‹åºï¼Œè¯·è½¬åˆ°æ‚¨çš„ Netlify ä»ªè¡¨æ¿ï¼Œç„¶åå•å‡» Git æŒ‰é’®ä¸­çš„**æ–°ç«™ç‚¹ã€‚æ¥ä¸‹æ¥ï¼Œé€‰æ‹© GitHub ä½œä¸ºæ‚¨çš„æä¾›å•†å¹¶æœç´¢é¡¹ç›®ã€‚**

![Select Project - Netlify](img/60b8845cda3d04b36520e72fe6d13de6.png)

é€‰æ‹©é¡¹ç›®å¹¶è½¬åˆ°ä¸‹ä¸€æ­¥ï¼Œä¸º Netlify é€‰æ‹©è¦éƒ¨ç½²çš„åˆ†æ”¯ã€‚é€‰æ‹©ä½ çš„è¯±é¥µåˆ†æ”¯ã€‚

![Select Branch - Netlify](img/e4f652383d3ddac2e822738596010634.png)

æ¥ä¸‹æ¥ï¼Œç‚¹å‡» **Deploy site** æŒ‰é’®ï¼Œè¿™æ · Netlify å°†æ‰§è¡Œæ‚¨ç«™ç‚¹çš„ç¬¬ä¸€æ¬¡éƒ¨ç½²ã€‚ç‚¹å‡»é“¾æ¥ï¼Œçœ‹èµ·æ¥åº”è¯¥æ˜¯:`sitename.netlify.app`ã€‚

![Application Live - Netlify](img/81e98805f1770d3dfad5f259a15887f5.png)

è¦åœ¨ CircleCI ç®¡é“ä¸­æ‰§è¡Œè‡ªåŠ¨éƒ¨ç½²ï¼Œæ‚¨éœ€è¦ä» Netlify åº”ç”¨ç¨‹åºå’Œå¸æˆ·ä¸­è·å–ä¸¤ä¸ªé…ç½®å€¼ã€‚

*   æ‚¨åˆšåˆšåˆ›å»ºçš„åº”ç”¨ç¨‹åºçš„**åº”ç”¨ç¨‹åº ID** å¯ä»¥åœ¨æ‚¨çš„ Netlify åº”ç”¨ç¨‹åºçš„ç«™ç‚¹è¯¦ç»†ä¿¡æ¯éƒ¨åˆ†æ‰¾åˆ°ã€‚
*   **ä¸ªäººè®¿é—®ä»¤ç‰Œ**å…è®¸ä»æ‚¨çš„éƒ¨ç½²ç®¡é“è®¿é—®æ‚¨çš„ Netlify å¸æˆ·ã€‚åœ¨`User Settings > Applications`ç”Ÿæˆè®¿é—®ä»¤ç‰Œã€‚

![Access Token - Netlify](img/121a7a0c4a1921fa4ebea101479c0e06.png)

å°†æ‚¨çš„è®¿é—®ä»¤ç‰Œä¿å­˜åœ¨ä¸€ä¸ªå®‰å…¨çš„åœ°æ–¹ï¼Œå› ä¸º Netlify ä¸å…è®¸æ‚¨åœ¨åˆ›å»ºåæŸ¥çœ‹è¯¥å€¼ã€‚ä½ åªèƒ½æ”¹å˜å®ƒã€‚

## åœ¨ CircleCI å»ºç«‹é¡¹ç›®

æ˜¯æ—¶å€™åœ¨ CircleCI ä¸Šå»ºç«‹ä½ çš„é¡¹ç›®äº†ã€‚å°†`.circleci`æ–‡ä»¶å¤¹æ·»åŠ åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ã€‚åœ¨å…¶ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªç©ºçš„`config.yml`æ–‡ä»¶ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæ‚¨å°†å‘è¯¥æ–‡ä»¶æ·»åŠ é…ç½®ã€‚å°†æ‚¨çš„æ›´æ”¹æ¨é€åˆ° GitHub é¡¹ç›®ã€‚

æ¥ä¸‹æ¥ï¼Œè½¬åˆ° CircleCI ä»ªè¡¨æ¿ä¸Šçš„ Add Projects é¡µé¢æ¥æ·»åŠ é¡¹ç›®ã€‚

![Add Project - CircleCI](img/00e4793b24d59ade3dd172dd604b042d.png)

ç‚¹å‡»**è®¾ç½®é¡¹ç›®**ã€‚è¿™å°†åŠ è½½ä¸€ä¸ªå¯¹è¯æ¡†ï¼ŒCircleCI è‡ªåŠ¨æ£€æµ‹æ‚¨çš„é…ç½®æ–‡ä»¶ã€‚

![Add Config - CircleCI](img/7d3a619a8b8ac432c9ca085f986304f1.png)

å•å‡» **Let's Go** é¦–æ¬¡è§¦å‘æ‚¨çš„æ„å»ºç®¡é“ã€‚æ„å»ºå°†å¤±è´¥ï¼Œå› ä¸ºæ‚¨å°šæœªå‘é…ç½®ä¸­æ·»åŠ ä»£ç ã€‚ç¨åæ‚¨å°†æ‰§è¡Œæ­¤æ­¥éª¤ã€‚

åœ¨ç¼–å†™é…ç½®ä¹‹å‰ï¼Œæ‚¨éœ€è¦åœ¨ CircleCI é¡¹ç›®ä¸­æ·»åŠ  Netlify åº”ç”¨ç¨‹åº ID å’Œè®¿é—®ä»¤ç‰Œä½œä¸ºç¯å¢ƒå˜é‡ã€‚

ç¡®ä¿æ‚¨çš„é¡¹ç›®æ˜¯â€œç®¡é“â€é¡µé¢ä¸Šå½“å‰é€‰å®šçš„é¡¹ç›®ã€‚ç‚¹å‡»**é¡¹ç›®è®¾ç½®**æŒ‰é’®ã€‚åœ¨è®¾ç½®é¡µé¢ä¸Šï¼Œä»ä¾§é¢èœå•ä¸­é€‰æ‹©**ç¯å¢ƒå˜é‡**ã€‚åœ¨è¿™ä¸ªæ–°é¡µé¢ä¸Šï¼Œç‚¹å‡»**æ·»åŠ ç¯å¢ƒå˜é‡**æŒ‰é’®ï¼Œè¾“å…¥ä»¥ä¸‹ä¿¡æ¯:

*   `NETLIFY_SITE_ID`æ˜¯æ‚¨çš„ Netlify åº”ç”¨ç¨‹åºçš„åº”ç”¨ç¨‹åº IDã€‚
*   `NETLIFY_ACCESS_TOKEN`æ˜¯æ‚¨çš„ç½‘ç»œä¸ªäººè®¿é—®ä»¤ç‰Œã€‚

![Environment variables - CircleCI](img/b1a9e5ec36dff1a9a4aded2ce883177d.png)

## ç¼–å†™éƒ¨ç½²é…ç½®

è¯¥è¿‡ç¨‹çš„æœ€åä¸€æ­¥æ˜¯ç¼–å†™éƒ¨ç½²é…ç½®ã€‚æ‰“å¼€`config.yml`æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹é…ç½®:

```
version: 2.1
jobs:
  build:
    working_directory: ~/repo
    docker:
      - image: cimg/node:12.16
    steps:
      - checkout
      - run:
          name: Update NPM
          command: "sudo npm install -g npm"
      - restore_cache:
          key: dependency-cache-{{ checksum "package-lock.json" }}
      - run:
          name: Install Dependencies
          command: npm install
      - save_cache:
          key: dependency-cache-{{ checksum "package-lock.json" }}
          paths:
            - ./node_modules
      - run:
          name: Gatsby Build
          command: GATSBY_CPU_COUNT=2 npm run build
      - save_cache:
          key: gatsby-public-cache-{{ .Branch }}
          paths:
            - ./public
      - run:
          name: Deploy to Netlify
          command: ./node_modules/.bin/netlify deploy --site $NETLIFY_SITE_ID --auth $NETLIFY_ACCESS_TOKEN --prod --dir=public
workflows:
  version: 2
  build-deploy:
    jobs:
      - build:
          filters:
            branches:
              only:
                - main 
```

åœ¨è¿™ä¸ªé…ç½®ä¸­ï¼Œé¡¹ç›®ä»å­˜å‚¨åº“ä¸­ç­¾å‡ºï¼Œé¡¹ç›®ä¾èµ–é¡¹è¢«å®‰è£…å’Œç¼“å­˜ã€‚ç¼“å­˜å®Œä¾èµ–é¡¹åï¼ŒGatsby build å‘½ä»¤`npm run build`è¿è¡Œï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„`public`ç›®å½•ä¸­åˆ›å»ºåº”ç”¨ç¨‹åºçš„ç”Ÿäº§ç‰ˆæœ¬ã€‚ç„¶åç¼“å­˜è¯¥æ–‡ä»¶å¤¹ã€‚

æœ€åï¼ŒNetlify CLI ä½¿ç”¨`$NETLIFY_SITE_ID`å’Œ`$NETLIFY_ACCESS_TOKEN`å˜é‡éƒ¨ç½²ç«™ç‚¹ã€‚ç„¶åï¼Œå·¥ä½œæµé…ç½®ç¡®ä¿åªæœ‰`main`åˆ†æ”¯è§¦å‘ç½‘ç»œéƒ¨ç½²ã€‚

åœ¨ä¸º CircleCI æ¨é€è¿™ä¸ªé…ç½®ä»¥éƒ¨ç½²ç«™ç‚¹ä¹‹å‰ï¼Œè¯·è½¬åˆ°é¡¹ç›®çš„`src/pages`æ–‡ä»¶å¤¹ï¼Œå¹¶å°†`index.js`æ–‡ä»¶ä¸­çš„ Gatsby æ¶ˆæ¯ä»`you just made a Gatsby site`æ›´æ”¹ä¸º`you just deployed a Gatsby site with CircleCI`ã€‚è¿™ä¸ªæ–°æ¶ˆæ¯å°†æ˜¾ç¤ºå·²éƒ¨ç½²çš„åº”ç”¨ç¨‹åºå·²ç»å‘ç”Ÿäº†å˜åŒ–ã€‚

æäº¤ä½ æ‰€æœ‰çš„ä¿®æ”¹å¹¶æ¨é€åˆ° GitHubã€‚

è¿™å°†è‡ªåŠ¨è§¦å‘éƒ¨ç½²ç®¡é“å’ŒæˆåŠŸçš„æ„å»ºã€‚

![Build Successful - CircleCI](img/5d741001fbe370aba383065d8100f027.png)

å•å‡»æ„å»ºä»¥æŸ¥çœ‹éƒ¨ç½²è¯¦ç»†ä¿¡æ¯ã€‚

![Build Details - CircleCI](img/816710e054b55e15e092ad2c5a453e7d.png)

æˆåŠŸæ„å»ºåï¼Œå†æ¬¡è®¿é—®æ‚¨çš„ç½‘ç«™ä»¥éªŒè¯æ‚¨éƒ¨ç½²çš„æ›´æ”¹ã€‚å®ƒåº”è¯¥æ˜¾ç¤ºæ–°æ¶ˆæ¯ã€‚

![Changes deployed - App Live](img/e32ae5c184a1a33f90dd2b6231cd8c88.png)

å‰å®³ï¼

è¦ç¡®è®¤ Netlify æ²¡æœ‰è¿è¡Œå¹¶è¡Œéƒ¨ç½²ï¼Œè¯·æ£€æŸ¥ Netlify éƒ¨ç½²æ—¥å¿—ã€‚ç”Ÿäº§éƒ¨ç½²ä¸­åªæœ‰ä¸€ä¸ªéƒ¨ç½²ï¼Œç¬¬ä¸€ä¸ªéƒ¨ç½²ç”±åˆ†æ”¯`netlify-deploy-ignore`è§¦å‘ã€‚å…¶ä½™çš„æ²¡æœ‰æ˜¾ç¤ºåˆ†æ”¯ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç”± CircleCI ç®¡é“è§¦å‘çš„ã€‚

![Deployment logs - Netlify](img/e028d5064ed3cec12b24060518e3f6eb.png)

## ç»“è®º

è¿™å°±æ˜¯ä½¿ç”¨ CircleCI å°† Gatsby ç«™ç‚¹å®šåˆ¶éƒ¨ç½²åˆ° Netlify çš„æƒ…å†µã€‚è¿™ç§è®¾ç½®ä½¿æ‚¨çš„å›¢é˜Ÿèƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶ Gatsby åˆ° Netlify çš„éƒ¨ç½²ï¼Œå¹¶ä¸ºæ‚¨æä¾›åœ¨è¯¥è¿‡ç¨‹ä¸­è¿è¡Œæ›´å¤šè‡ªå®šä¹‰æ­¥éª¤æ‰€éœ€çš„çµæ´»æ€§ã€‚

å¦‚æœä½ å–œæ¬¢ä½¿ç”¨ Heroku è€Œä¸æ˜¯ Netlify ä½œä¸ºä½ çš„æ‰˜ç®¡å¹³å°ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰ä¸€ä¸ªå…³äº T2 ä½¿ç”¨ CircleCI ç®¡é“å®šåˆ¶éƒ¨ç½² Heroku T3 çš„æ•™ç¨‹ã€‚

ç¼–ç å¿«ä¹ï¼

* * *

Fikayo Adepoju æ˜¯ LinkedIn Learning(Lynda.com)çš„ä½œè€…ã€å…¨æ ˆå¼€å‘äººå‘˜ã€æŠ€æœ¯ä½œè€…å’ŒæŠ€æœ¯å†…å®¹åˆ›å»ºè€…ï¼Œç²¾é€š Web å’Œç§»åŠ¨æŠ€æœ¯ä»¥åŠ DevOpsï¼Œæ‹¥æœ‰ 10 å¤šå¹´å¼€å‘å¯æ‰©å±•åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„ç»éªŒã€‚ä»–ä¸º CircleCIã€Twilioã€Auth0 å’Œ New Stack åšå®¢æ’°å†™äº† 40 å¤šç¯‡æ–‡ç« ï¼Œå¹¶ä¸”åœ¨ä»–çš„ä¸ªäººåª’ä½“é¡µé¢ä¸Šï¼Œä»–å–œæ¬¢ä¸å°½å¯èƒ½å¤šçš„ä»ä¸­å—ç›Šçš„å¼€å‘äººå‘˜åˆ†äº«ä»–çš„çŸ¥è¯†ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ Udemy ä¸ŠæŸ¥çœ‹ä»–çš„è§†é¢‘è¯¾ç¨‹ã€‚

[é˜…è¯» Fikayo Adepoju çš„æ›´å¤šå¸–å­](/blog/author/fikayo-adepoju/)