# 过度供应和过度许可的容器& Kubernetes

> 原文：<https://www.fairwinds.com/blog/over-provisioned-and-over-permissioned-containers-kubernetes>

 如果你生活在运营中，你就会知道每一个决定都只是一系列看似永无止境的权衡中的一个。“最容易使用的系统”完全可以被任何地方的任何人访问，但这些系统也是最不安全的。你可以把某样东西的刻度盘调到 11，但结果是你只是把别的东西的刻度盘调到 1，总会有一个权衡。

如果每一个决策都有一个显而易见的解决方案，那么帮助人们权衡利弊的专家们的报酬就会少很多。然而，通常没有明显的“一刀切”，因为每个组织的需求对于特定的地点、时间和用例都是独特的。

在我们的环境中，我们经常倾向于过于自由地偏向，但是把事情做对是值得努力的。这种做法适用于整个 IT 世界，并且是容器和 Kubernetes 的一个实际问题。这些动态环境千变万化，错综复杂。定期保持对已配置或已许可更改的了解。配置可能会浪费金钱或带来风险。

## 过度供应

我有一个朋友在一家公司工作，该公司奉行“如果你建造了它，你就拥有它”的强硬路线。这意味着:如果你没有在生产的整个过程中拥有一个服务或功能的想法，包括寻呼机和下班后对任何问题的响应，就不要想出这个想法。我问这个政策是否曾经阻止人们开发一些伟大的东西，因为他们不想在工作时间之外管理它，我确信这可能已经发生了。

如果我是一个开发人员，有一个很好的想法，但维护起来很昂贵，我不会想拥有一个管理起来很费钱的东西。因此，我要么不构建，要么即使构建，我也会过度配置 h*ck。我会分配更多的资源，更多的实例，内存，计算等等...并确保该服务有足够的规模和流量，永远不会下降。

作为所有者，我的工作是确保它正常运行，虽然我必须请求许可来报销 50 美元的书，这将有助于我更好地完成工作，但我不需要请求任何许可来在我们的生产基础架构中增加价值 200，000 美元的额外实例(如果您的组织像那里的许多组织一样)。我要去做让我最舒服的事情，并确保我不惜一切代价建立起来的东西(字面上)。

从字面上看，这就是过度配置的定义。我是否会审核我的日志和使用情况报告，看看我是否可以将支出削减一半，并且仍然有一个舒适的缓冲？可能不会，因为我没有工具来帮助我这样做——而且我也没有这样做的动机。

这就是导致过度配置成为许多地方的默认配置的原因。

## 过度许可

在我们的默认设置中过于自由的问题不仅仅出现在供应方面，它也可能出现在许可方面。

有趣的是，当人们被授予权限时，我发现这种情况很少发生(由于运营/IT 团队中某个人的旧 HR 伤疤，人们往往在组织中受到过度限制)，但当涉及计算机时，这种情况会多得多。不管出于什么原因，我们让我们组织中的高级领导几乎没有访问权限变得非常普遍(通常他们不需要这种访问权限，不要误会我的意思)——但我们给了我们的应用程序、容器、实例和网络所有我们可以访问的权限。

很容易想到，“访问它应该不难，所以让它开放吧。”这导致了我们在服务配置中看到的最常见的情况之一——容器在集群中以惊人的速度作为根运行。问题是，如果一个坏人发现您的基础设施中有一个部分被过度许可，他们就可以得到任何其他地方。您可能已经完全锁定了您的数据库，但是如果可以访问该数据库的服务具有任何人都可以进入的权限，那么您的数据库就相当于受到了威胁。

过度许可的计算机是导致安全事故的超级常见的单点故障。

## 好事过头反成坏事

要完成任何事情，你都需要资源和许可。但是像任何事情一样，正确的工具可以走很长的路。想象一下在院子里挖沟渠系统来安装洒水系统——用铲子挖沟渠比用手容易得多。更好的是拥有一台定制的挖沟机器。另一方面，给每个你认识的人一台反铲挖土机，并相信他们会把它弄到需要的地方，并为洒水系统挖大小合适的洞，这可能不是一个好主意。

有一个合适的尺寸。许可权的宽大。

## 找到正确的平衡

如果没有合适的软件告诉你哪里做错了，找到平衡会很难。

[Fairwinds Insights](/insights) 让您轻松了解自己在哪些地方过度配置和过度许可。它还会收集一段时间内的数据，这样你就可以看到与上个月相比，你今天的表现如何。获得正确的设置。为了避免花费大量金钱，无论是今天的过度配置，还是未来由于过度许可而导致的大规模安全事故。

对使用 Fairwinds Insights 感兴趣吗？免费提供！点击此处了解更多信息。

[![Use Fairwinds Insights for Free Security, Cost and Developer Enablement In One](img/7c86296320eb01b215d8e2755e9c5b9d.png)](https://cta-redirect.hubspot.com/cta/redirect/2184645/34aa4987-a1f9-438a-a145-d7d82d5c479a)