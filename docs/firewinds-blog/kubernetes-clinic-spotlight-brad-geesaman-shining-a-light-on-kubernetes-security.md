# Kubernetes 诊所聚焦:Brad Geesaman，照亮 Kubernetes 的安全

> 原文：<https://www.fairwinds.com/blog/kubernetes-clinic-spotlight-brad-geesaman-shining-a-light-on-kubernetes-security>

 Brad Geesaman 已经在 IT 安全和基础设施的交叉领域工作了近二十年。作为 KubeCon 或 BlackHat 的专家，Brad 作为 [Darkbit](http://www.darkbit.io/) 的联合创始人，运用他的网络安全专业知识和容器编排知识，帮助客户保护其云原生工作负载。Kubernetes 社区的积极贡献者-他与来自社区各个方面的大量不同人群合作- Brad 建议成为 Kubernetes 集体的积极成员，作为将 Kube 产品推向市场的第一步。正是这种社区焦点和边听边学的风格使得 Brad 成为 Kubernetes Clinic: Spotlight 博客系列的完美第一次采访。

我有机会问了 Brad 一些关于安全状况和 Kubernetes 的最紧迫的问题。从需要相信 Kubernetes 是在考虑安全性的情况下开发的，到组织过度依赖少数关键的 Kubernetes 专业人员，到为什么 OSS 社区保持相当低的安全风险，Brad 列出了什么让他紧张，什么让他兴奋。他甚至分享了为什么他认为 Kubernetes 托管服务——如 fair winds——是许多组织开始使用 Kube 的明智之选。

我们很高兴 Brad 与我们坐在一起，回答我们关于 Kubernetes、安全性以及他为 Darkbit 工作带来的价值观类型的问题。为了感谢他抽出时间，Fairwinds 公司以 Darkbit 的名义向“女性安全与隐私”( Women in Security & Privacy，WISP，[www.wisporg.com](http://www.wisporg.com))进行了捐赠。WISP 是 Darkbit 过去捐赠的一个组织，因为该团队希望“继续支持信息安全行业女性的职业发展和思想领导力。”

让我们从布拉德·吉萨曼开始:

### **首先，你在疫情期间过得怎么样？**

总的来说，我们做得很好。谢谢关心！我希望你们现在也尽自己所能做得更好。

### 你是如何对 Kubernetes 产生兴趣的，具体来说，是在它出现的时候？有什么特别的事件引起了你的兴趣吗？

【2016 年初，在我们被赛门铁克收购约一年后，我们由约 6 名工程师组成的团队正寻求重新设计我们的道德黑客模拟平台，我们曾使用该平台运行从裸机虚拟化到 AWS 的旗帜事件。主要目标是成本效率、更快的目标开发、更快的目标加速、每 4 人一组的专用目标、更好的地理分布以及将一切自动化为代码。大约 9 个月后，我们将在全球范围内接待 1500 名参与者，进行为期 1 周的 24x7 在线活动。自然的想法是利用不同 AWS 区域中的 EC2 实例，但这只能很好地解决其中一些目标。我们的团队已经在利用 Docker 容器进行一些目标开发，我们决定对 Docker Swarm 和 Kubernetes 1.3 进行概念验证。尽管阿尔法没有 RBAC 和卡利科网络政策，但库本内斯可以灵活地按照我们的要求行事。有目的地允许参与者在他们自己的名字空间中的一个或多个容器中获得外壳是我们今天看到的多租户问题的早期形式。我们开始渗透测试我们自己的平台，并牢记这一点，一件一件地锁定。从那时起，Kubernetes 组件的实践安全教育被证明是无价的。

### **作为 Kubernetes 安全领域的领导者，您是众所周知的。Kubernetes 社区今天需要讨论的最重要的安全话题是什么？**

这一切都归结于信任。相信 Kubernetes 的特性是在高度安全的基础上开发的。相信云的默认设置在配置方面是安全的。信任容器映像的来源、它们的依赖关系以及贡献代码的人员的安全性。在整个生态系统中有许多假定的信任，组织需要真正理解它们，以确保它们在所需的安全级别上运行。作为一个社区，我们需要不断地重新审视这些假设，因为用户依赖这些决策来交付他们的产品和服务。

### **当您深入研究基于 Kubernetes 的基础设施时，您会发现哪些常见的安全隐患？有没有常见的冒险行为或你看到的怪异事情？**

我始终看到几件事:从组织的角度来看，过度依赖一两个了解整个系统的关键人物。对于那些试图扩展的团队来说，他们往往是一个瓶颈，并且非常容易精疲力尽。从运营的角度来看，我们看到了撞上“复杂性”墙的征兆。我的意思是，在某个点上，环境、集群和应用程序开始足够好地工作，而添加更严格的安全策略等内容开始破坏这种成功，并需要太多的认知负载。从 DockerHub 运行图像而不进行审查，缺乏 pod 网络分段，以及缺乏用于检测集群内恶意行为的一致策略是其常见的副作用。

### Kubernetes 只有几年的历史，但其采用率却一飞冲天(CNCD 2020 报告指出，从 2019 年到 2020 年，生产部署增加了 58%)。你认为这项技术在未来 2-3 年内会发展到什么程度？和今天会有什么不同？

我认为未来 1-2 年将是 Kubernetes 项目的一个真正的转折点，在快速接受一些用户需要的功能和贡献与许多其他用户需要的安全性和稳定性之间取得平衡。一种选择可能是长期支持(LTS)发布方法，这种方法可以为一些组织提供更稳定的目标，并减轻其运营团队的更新压力。

### **你最近成立了一家名为 Darkbit 的公司，该公司帮助云原生组织高效地评估其 AWS、GCP 和 Kubernetes 环境的安全状况。你对在 Kubernetes 周围开公司的人有什么建议？**

有两种方法可以回答这个问题。首先，对于那些已经开始围绕 Kubernetes 产品和服务建立公司的人来说。第二，对于采用 Kubernetes 并寻求安全建议的组织。

对于前者，考虑到项目和周围社区项目的爆炸式增长，社区的新成员可能很容易看到感知到的差距，并尝试立即围绕这一差距开发产品。我强烈建议首先花时间成为社区的一名贡献者，并在 Kubernetes 用户旅程的各个阶段尽可能多地与他们在一起，以真正理解潜在的文化。否则，你的产品和/或服务很可能会遭遇技术和文化的错位。

对于后者，在大多数使用案例中，利用云提供商的托管产品是最佳起点。但是，它们不能提供大多数组织通过开箱即用配置所期望的安全级别。提前花一些时间了解可用的安全相关设置，并尽早、经常地将它们构建到您的基础设施即代码方法中。然后，将精力和资源集中在自动化和保护工作负载上。

### 从安全的角度来看，像 Kubernetes 这样的完全开放源码软件工具会带来什么样的安全挑战？与大型 OSS 社区合作或在其中合作有什么新的或迫在眉睫的风险吗？

考虑到贡献者的巨大数量，有许多人关注提议的变更和代码审查，因此提交故意恶意代码的风险相当低。然而，当一个项目规模如此之大，包含如此多不断增长的复杂性的移动部分时，巨大的挑战是确保从安全角度理解所有潜在环境中所有组件的任何新功能或变化。此外，随着对组件行为的依赖，新发现的需要对该行为进行根本改变的安全问题由于其惯性变得更加难以解决。毫无疑问，随着项目的继续发展，平衡这些决策将是一个持续的挑战。

### Kubernetes sig-release 进展迅速，而受管理的 Kubernetes 提供商在提供对最新 Kube 版本和补丁版本的访问方面似乎落后了。你对 Kubernetes 更新/补丁的状态有什么看法？你是否担心 Kubernetes 的用户群越来越落后，可能无法及时更新安全补丁？

我认为，平台团队可以在上游发布节奏和速度之间取得平衡，发布消费的速度正在放缓，原因是功能复杂性增加，或者是因为该发布正在做他们目前需要的一切。组织降低安全修补的优先级并不是一个新概念，但这肯定会因更短的版本支持生命周期而加剧。在某个时候，会有某种程度的阻力来帮助恢复这种平衡。也就是说，我更担心组织在应对“容器蔓延”时管理其容器映像安全性的能力。

### 您过去曾与伊恩·科尔德沃特(Ian Coldwater)这样的人就库伯内特的安全问题进行过交谈。对于对安全性及其与 k8s 的交集感兴趣的人来说，除了 Ian 之外，当他们提出问题或担忧时，我们还应该关注和倾听谁？

我非常荣幸能与这个社区的这么多杰出人士合作，与 Ian 合作 RSA2020 以及再次合作 KubeConEU2020 是一次很棒的经历！每当罗里·麦丘恩、达菲·库利、塔比·塞布尔、利兹·赖斯、迈克尔·豪森布拉斯、乔丹·利吉特、安德鲁·马丁、玛雅·卡佐罗夫斯基和许多其他人分享他们的想法(或事迹)时，我都会听。).

### **Fairwinds 的公司价值观是尊重、包容、同情和善良。我们每天都在努力将这些价值观融入我们的工作以及我们与同事、合作伙伴和客户的关系中。你有什么具体的价值观想带到你的工作中吗？**

在 Darkbit，我们的核心价值观是诚信、透明、同理心和学习。我们努力对我们所做的一切保持开放和诚实，不断改进，我们认识到我们是一个更大的社区的一部分，所有人都朝着同一个方向前进。

[![Kubernetes Clinics: Community focused tech deep dives](img/eb0e55f0923f5ff4b7db67c467359b19.png)](https://cta-redirect.hubspot.com/cta/redirect/2184645/41811205-0655-4320-83cf-dd295b586d2f)