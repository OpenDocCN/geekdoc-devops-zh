# Docker 是一个有价值的 DevOps 工具——值得使用

> 原文：<https://www.fairwinds.com/blog/docker-is-a-valuable-devops-tool-one-thats-worth-using>

 Docker 是去年人们谈论最多的技术之一，其采用率正在迅速上升——这是有充分理由的。对于一些开发人员和操作工程师来说，Docker 可能看起来令人困惑和难以使用，但我认为它只是被误解了。在这里，我将解释 Docker 是什么，然后介绍为什么它对开发和运营有好处。

## Docker 是什么？

Docker 是一个开源项目，可以在隔离的容器中自动开发、部署和运行应用程序。容器允许开发人员将应用程序与它需要的所有部分捆绑在一起，比如库和其他依赖项，并作为一个包运送。

Docker 既是一个守护进程(后台运行的进程)，也是一个客户端命令。它就像一个虚拟机，但在重要方面有所不同。首先，重复较少。每运行一个额外的虚拟机，就会复制 CPU 和内存的虚拟化，并在本地运行时迅速耗尽资源。Docker 非常擅长设置本地开发环境，因为它可以轻松地添加正在运行的进程，而无需复制虚拟化资源。第二，它更加模块化。Docker 使运行同一个程序的多个版本或实例变得容易，而没有配置问题和端口冲突。在虚拟机中尝试一下吧！

你可以使用像  [Docker Compose 这样的工具，而不是单个或多个虚拟机。](https://docs.docker.com/compose/) 您可以将每个单独的应用程序和支持服务链接成一个单元，轻松地横向扩展单独的服务，而无需虚拟机的开销或每个服务的配置问题。它通过一个单一的描述性 YAML 文件来完成这一切，改善了开发体验，加速了软件交付并提高了性能。

因为 Docker 是一个开放的平台，任何人都可以对它的开发做出贡献，以构建目前还不可用的功能。最棒的是，Docker 提供了版本控制(免费！).

有了 Docker，开发人员可以专注于编写代码，而不用担心代码将在哪个系统上运行。应用程序变得真正可移植。您可以放心地在任何运行 Docker 的机器上重复运行您的应用程序。对于操作人员来说，Docker 是轻量级的，允许在隔离的容器中并行运行和管理具有不同需求的应用程序。这种灵活性可以增加每台服务器的资源使用量，并可以减少所需的系统数量，因为其开销较低，从而降低了成本。

## 为什么要用 Docker？

Docker 让 Linux 容器化技术变得简单易用。事实上，Docker 非常棒。

使用 Docker 的理由有很多。我将在这里集中讨论三点:一致性、速度和隔离。通过  *一致性*，我的意思是 Docker 为您的应用程序从开发到生产提供了一个一致的环境——您每次都从同一个起点运行。通过  *速度*，我的意思是你可以在服务器上快速运行一个新进程。因为映像是预配置的，并且安装了您想要运行的进程，所以它消除了运行进程的挑战。所谓  *隔离*，我的意思是默认情况下，每个正在运行的 Docker 容器都与网络、文件系统和其他正在运行的进程隔离开来。

第四个原因是 Docker 的分层文件系统。从基础映像开始，您对容器或映像所做的每个更改都成为文件系统中的一个新层。因此，文件系统层被缓存，减少了 Docker 构建过程中重复步骤的数量，并减少了上传和下载类似映像所需的时间。它还允许您保存容器状态，例如，如果您需要排除容器失败的原因。文件系统层类似于 Git，但是在文件系统级别。每个 Docker 映像都是层的特定组合，就像每个 Git 分支都是提交的特定组合一样。

## Docker 使用的一些障碍是什么？

最大的障碍是现有的知识基础。一些开发人员可能没有完全理解 Docker 的实用性或简单性，可能认为它比实际情况更复杂。他们的工具包里可能还会有其他工具，比如(一种本地虚拟化技术)，虚拟服务器或者亚马逊  [机器镜像](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html) (AMIs)。

按照这些思路，动手实验所需的时间可能很难获得。开发人员通常没有可用的时间或带宽来分配工程周期给新的东西，特别是当他们已经有一个工作解决方案的时候。可以理解，他们宁愿花时间开发他们的产品。

最重要的是，将当前的开发解决方案转化为文档化的开发解决方案需要思维的转变。举个例子，如果你把 Docker 想象成一个虚拟机或者一个无业游民的机器，你可能想往里面塞很多东西(比如服务、监控软件和你的应用)。那将是一个错误。你没有把很多东西放入一个 Docker 映像中；相反，您使用许多 Docker 容器来实现完整的堆栈。

换句话说，对于开发来说，你可以将你的支持服务容器与你的应用程序容器分开，它们可以运行在不同的操作系统和版本上，同时又可以链接在一起。

虽然您可能在实现基于 AMI 的方法方面有丰富的经验，但是您可能对容器本身如何工作和行为没有概念性的理解。Docker 的一个关键原则是图像不会改变。要进行更改，您将创建一个新图像，它可能具有相同的名称和标签。与虚拟机不同，在虚拟机中，您运行的每个命令都可能会改变下一个命令的起点，而 Docker 的映像永远不会改变，因此您每次运行映像时都有一个不变的起点，并且您可以放心，无论您在哪里运行它，它都会做相同的事情。

## Docker 实际上并不难使用——而且物有所值

想想一个常见的本地开发工具，如流浪者。vagger 模仿了你的生产服务器，但是你可能会以版本、支持技术或网络差异而告终。当您将应用程序放入容器中时，运行容器的虚拟机变得无关紧要，容器本身就是您的构建工件。

当您将应用程序放在 Docker 容器中时，您可以确保您在本地测试的代码与投入生产的构建工件完全相同。应用程序运行时环境没有变化。这使得 Docker 从开发到生产都是一个出色的工具。

幸运的是，Docker 并不太难学。很好玩，学习曲线也比较小。

那么为什么它看起来很难使用呢？大概是因为你还没有机会尝试吧。在我的下一篇博文中，我将分享一些基本的 Docker 命令，让你越过起跑线。

***下一个[第二部分——Docker 比你想象的更容易使用！](http://blog.reactiveops.com/docker-is-easier-to-use-than-you-think)***