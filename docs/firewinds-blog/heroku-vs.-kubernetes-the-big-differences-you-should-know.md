# Heroku Vs. Kubernetes:你应该知道的巨大差异

> 原文：<https://www.fairwinds.com/blog/heroku-vs.-kubernetes-the-big-differences-you-should-know>

 乍一看，Heroku 和 Kubernetes 的比较似乎很奇怪。它们是截然不同的技术，针对完全不同的群体。一个是为了快速获得代码，而另一个是为了随着您的业务增长而扩展。但是在 Fairwinds，我们经常发现工程团队在应该使用另一个的时候使用了另一个。

为了帮助澄清巨大的差异，让我们从一个高层次来考察 Heroku 和 Kubernetes。

## Heroku

Heroku 提供了很好的开发者体验。它简单易用，非常适合那些只想编写代码并交付给 prod 的开发人员。Heroku 简单明了的框架使开发人员能够快速获得代码。

然而，使用 Heroku，您不会得到任何真正的编排。在您的应用程序如何扩展或如何与您可能部署到云的其他应用程序交互方面，没有选项。此外，Heroku 的观点决定了您如何设计您的应用程序，如果不重写代码，任何未来的迁移都是不可能的。

但是对于简单的孤立的应用程序，Heroku 的简单性和观点可以减少操作上的麻烦。如果您的应用程序由单个二进制文件组成，并且只需要根据延迟进行伸缩，Heroku 可能是完美的选择。

## 库伯内特斯

Kubernetes 在应用程序的伸缩方面更加灵活。此外，Kubernetes 是开源的。如果您围绕 Kubernetes 编写应用程序，您可以在内部部署它，或者部署到 Google、Amazon 和任何其他云提供商。它完全不受供应商限制。

Kubernetes 的功能也足够丰富，可以与您的公司一起成长。Kubernetes 的核心组件可以处理 90%的用例，开放平台允许任何第三方扩展其功能以满足他们的需求。当然，所有这些灵活性都伴随着陡峭的学习曲线，所以准备好投资培训您的工程师，并考虑寻找一个合作伙伴来帮助您找到最适合您组织的配置和工具集。

## Heroku 非常适合小型项目...

Heroku 通常是开发者对黑客马拉松的选择。如果你想在周末和几个朋友一起验证概念，Heroku 是完美的原型。您可以简单地推送您的代码，而无需担心配置机器、联网或扩展。

最终，如果你是一个处于创业模式的小团队，只是想在用户面前推出一个 MVP，Heroku 是一个很好的起点。它的简单性和易用性意味着您可以将时间集中在构建一个伟大的产品上。

## ...但是随着成长，你会想要转换。

如果你有一个快速扩展的业务，需要适应未来，需要随着市场增长，你会很快体验到 Heroku 的局限性。在这些场景中，你会想要一个更成熟的编排平台，比如 Kubernetes。

我们发现从 Heroku 转向 Kubernetes 有两个主要驱动因素:

**1。成本**

当你的应用程序在用户数量和流量方面达到一定的规模时，你将为 Heroku 支付不再有意义的溢价。在最好的情况下，Heroku 的价格是亚马逊价格的两倍。

例如，在一家拥有数十或数百名用户的早期创业公司，你的云账单几乎不会削减你的预算，尤其是相对于工资单之类的东西。然而，一旦你达到一定的规模水平，你就会开始从你的首席财务官那里听说云成本。

当你一年要花费 1 万到 10 万美元的时候，你应该考虑离开 Heroku——你从转换到另一个云提供商节省下来的钱可以为一个新员工腾出足够的预算！

**2。复杂性**

最终你的应用会有 Heroku 无法满足的复杂需求。

例如，对于 Heroku 用户来说，过于简单的自动缩放是一个常见的挫折。假设您的应用程序需要根据运行在另一个服务上的消息队列积压的大小进行扩展。Heroku 无法处理这一点，它只能根据请求延迟进行扩展。

对于 Heroku 来说，网络和编排需求也可能很快变得过于复杂，尤其是当您的应用程序由几个独立的子应用程序和微服务组成时。举个例子，考虑网飞的视频流平台:有一个浏览应用程序来浏览他们的视频库；推荐引擎决定哪些视频浮出水面；搜索引擎允许你手动寻找东西；最后，一旦你做出决定，一个视频流媒体服务就开始了。所有这些不同的服务都需要相互对话、独立扩展、适度失败，并最终产生单一的用户体验。这种编排正是 Kubernetes 的闪光点。

如果您预计在不久的将来会达到一定的成本或复杂性水平，那么考虑做出改变是值得的。我们希望这有助于澄清什么时候使用 Heroku 是合适的，什么时候团队应该考虑使用 Kubernetes。

要了解更多关于如何切换到 Kubernetes 的信息，请查看  [通过 GKE 从 Heroku 迁移到 Kubernetes。](https://www.fairwinds.com/developer-hub/migrating-from-heroku-to-kubernetes-via-gke)