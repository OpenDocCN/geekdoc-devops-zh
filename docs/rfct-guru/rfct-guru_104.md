# 提取超类

> 原文：[`refactoringguru.cn/extract-superclass`](https://refactoringguru.cn/extract-superclass)

### 问题

你有两个具有共同字段和方法的类。

### 解决方案

为它们创建一个共享的超类，并将所有相同的字段和方法移动到该超类。

之前！提取超类 - 之前之后！提取超类 - 之后

### 为什么要重构

一种代码重复的类型发生在两个类以相同的方式执行相似任务，或以不同方式执行相似任务时。对象提供了一种内置机制，通过继承简化这种情况。但通常情况下，这种相似性在类创建之前是未被注意的，因此需要在后期创建继承结构。

### 益处

+   代码去重。共同字段和方法现在只“存在”于一个地方。

### 何时不使用

+   你不能将此技术应用于已经拥有超类的类。

### 如何重构

1.  创建一个抽象超类。

1.  使用 提升字段、提升方法 和 提升构造函数主体 将共同功能移动到超类。首先处理字段，因为除了共同字段之外，你还需要移动在共同方法中使用的字段。

1.  寻找客户端代码中可以用你的新类替代子类使用的地方（例如，在类型声明中）。

</images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56>

</images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4>

你的浏览器不支持 HTML 视频。

### 看够了吗？

不奇怪，阅读我们这里所有的文本需要 7 个小时。

尝试我们的交互式重构课程。它提供了一种更轻松的学习新知识的方法。

*让我们看看…*
