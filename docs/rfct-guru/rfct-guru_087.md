# 参数化方法

> 原文：[`refactoringguru.cn/parameterize-method`](https://refactoringguru.cn/parameterize-method)

### 问题

多个方法执行的操作相似，仅在其内部值、数字或操作上有所不同。

### 解决方案

通过使用一个参数来传递必要的特殊值来合并这些方法。

在此之前！参数化方法 - 之前之后！参数化方法 - 之后

### 为什么重构

如果你有类似的方法，你可能会有重复的代码，带来所有相应的后果。

更重要的是，如果你需要再添加一个功能的版本，你将不得不创建另一个方法。相反，你可以简单地用不同的参数运行现有的方法。

### 缺点

+   有时这种重构技术可能会走得太远，导致生成一个长而复杂的公共方法，而不是多个简单的方法。

+   当将功能的激活/停用移动到参数时，也要小心。这最终可能导致创建一个大型条件运算符，需要通过用显式方法替换参数来处理。

### 如何重构

1.  创建一个带参数的新方法，并将其移至所有类通用的代码中，通过应用提取方法。注意，有时方法的某一部分实际上是相同的。在这种情况下，重构就是将相同的部分提取到一个新方法中。

1.  在新方法的代码中，用参数替换特殊/不同的值。

1.  对于每个旧方法，找到它被调用的地方，将这些调用替换为包含参数的新方法的调用。然后删除旧方法。

</images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56>

</images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4>

你的浏览器不支持 HTML 视频。

### 厌倦了阅读？

毫无疑问，阅读我们这里所有文本需要 7 个小时。

尝试我们的互动重构课程。这提供了一种不那么乏味的学习新知识的方法。

*让我们看看…*
