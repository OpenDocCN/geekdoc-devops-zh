# 提取接口

> 原文：[`refactoringguru.cn/extract-interface`](https://refactoringguru.cn/extract-interface)

### 问题

多个客户端正在使用类接口的相同部分。另一个情况：两个类中的接口部分相同。

### 解决方案

将这一相同部分移动到其自己的接口中。

前！提取接口 - 前后！提取接口 - 后

### 为什么重构

1.  当类在不同情况下扮演特殊角色时，接口非常合适。使用提取接口明确表示哪个角色。

1.  当你需要描述一个类在其服务器上执行的操作时，会出现另一个方便的情况。如果计划最终允许使用多种类型的服务器，则所有服务器必须实现该接口。

### 知道的好处

提取超类和提取接口之间有一定的相似性。

提取接口仅允许隔离公共接口，而不是公共代码。换句话说，如果类包含重复代码，提取接口并不能帮助你去重。

尽管如此，通过应用提取类将包含重复行为的部分移动到单独的组件并将所有工作委托给它，可以缓解此问题。如果公共行为的规模很大，你可以始终使用提取超类。当然，这样做更简单，但请记住，如果你走这条路，你将只得到一个父类。

### 如何重构

1.  创建一个空接口。

1.  在接口中声明公共操作。

1.  将必要的类声明为实现该接口。

1.  在客户端代码中更改类型声明，以使用新接口。

</images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56>

</images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4>

您的浏览器不支持 HTML 视频。

### 读累了吗？

毫不奇怪，阅读这里所有的文本需要 7 小时。

尝试我们的交互式重构课程。它提供了一种不那么乏味的学习新知识的方法。

*让我们看看……*
