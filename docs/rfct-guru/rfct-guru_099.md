# 提升方法

> 原文：[`refactoringguru.cn/pull-up-method`](https://refactoringguru.cn/pull-up-method)

### 问题

你的子类中有执行类似工作的多个方法。

### 解决方案

使这些方法相同，然后将它们移动到相关的超类中。

之前！提升方法 - 之前之后！提升方法 - 之后

### 为什么重构

子类独立增长和发展，导致相同（或几乎相同）的字段和方法。

### 好处

+   消除重复代码。如果需要对某个方法进行更改，最好在一个地方进行修改，而不是到处寻找子类中该方法的所有重复项。

+   如果出于某种原因，子类重新定义了超类方法但执行的基本上是相同的工作，则可以使用此重构技术。

### 如何重构

1.  调查超类中的相似方法。如果它们不是完全相同的，请格式化以匹配彼此。

1.  如果方法使用不同的参数集，请将参数放在超类中希望看到的形式。

1.  将方法复制到超类中。在这里你可能会发现方法代码使用了仅存在于子类中的字段和方法，因此在超类中不可用。为了解决这个问题，你可以：

    +   对于字段：使用提升字段或自我封装字段在子类中创建 getter 和 setter；然后在超类中抽象声明这些 getter。

    +   对于方法：使用提升方法或者在超类中声明抽象方法（请注意，如果类之前不是抽象的，它将变为抽象类）。

1.  从子类中移除方法。

1.  检查方法被调用的位置。在某些地方，你可能能够用超类替代子类。

</images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56>

</images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4>

你的浏览器不支持 HTML 视频。

### 厌倦了阅读？

难怪，阅读我们这里所有的文本需要 7 小时。

尝试我们的交互式重构课程。它提供了一种更不乏味的学习新知识的方法。

*让我们看看……*
