# 在对象之间移动特性

> 原文：[`refactoringguru.cn/refactoring/techniques/moving-features-between-objects`](https://refactoringguru.cn/refactoring/techniques/moving-features-between-objects)

即使你在不同类之间分配功能的方式不尽完美，仍然有希望。

这些重构技术展示了如何安全地在类之间移动功能，创建新类，并隐藏实现细节以避免公开访问。

移动方法

**问题：** 一个方法在另一个类中的使用频率超过其自身类中的使用频率。

**解决方案：** 在使用该方法最多的类中创建一个新方法，然后将代码从旧方法移动到那里。将原方法的代码转变为对另一个类中新方法的引用，或者完全删除它。

移动字段

**问题：** 一个字段在另一个类中的使用频率超过其自身类中的使用频率。

**解决方案：** 在新类中创建一个字段，并将所有使用旧字段的用户重定向到它。

提取类

**问题：** 当一个类完成两个类的工作时，会导致尴尬。

**解决方案：** 相反，创建一个新类，并将负责相关功能的字段和方法放入其中。

内联类

**问题：** 一个类几乎什么都不做，并且不负责任何事情，也没有计划额外的职责。

**解决方案：** 将类中的所有特性移到另一个类中。

隐藏委托

**问题：** 客户从对象А的字段或方法获取对象 B。然后客户调用对象 B 的方法。

**解决方案：** 在类 A 中创建一个新方法，将调用委托给对象 B。现在客户端对类 B 没有了解或依赖。

去掉中介

**问题：** 一个类有太多方法，仅仅将请求委托给其他对象。

**解决方案：** 删除这些方法，并强制客户端直接调用最终方法。

引入外部方法

**问题：** 一个工具类不包含你需要的方法，而你无法将该方法添加到类中。

**解决方案：** 将该方法添加到客户端类，并将工具类的对象作为参数传递给它。

引入本地扩展

**问题：** 一个工具类不包含你需要的一些方法。但你无法将这些方法添加到类中。

**解决方案：** 创建一个包含这些方法的新类，并使其成为工具类的子类或包装类。
