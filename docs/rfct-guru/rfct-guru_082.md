# 简化方法调用

> 原文：[`refactoringguru.cn/refactoring/techniques/simplifying-method-calls`](https://refactoringguru.cn/refactoring/techniques/simplifying-method-calls)

这些技术使方法调用变得更简单、更易理解。这反过来又简化了类之间交互的接口。

重命名方法

**问题：** 一个方法的名称未能解释该方法的功能。

**解决方案：** 重命名该方法。

添加参数

**问题：** 一个方法没有足够的数据来执行某些操作。

**解决方案：** 创建一个新参数来传递必要的数据。

移除参数

**问题：** 一个参数在方法体内未被使用。

**解决方案：** 移除未使用的参数。

将查询与修改分开

**问题：** 你是否有一个返回值的方法，同时还改变了对象内部的某些内容？

**解决方案：** 将方法拆分为两个独立的方法。正如你所期待的，其中一个应返回值，另一个则修改对象。

参数化方法

**问题：** 多个方法执行类似的操作，仅在其内部值、数字或操作上有所不同。

**解决方案：** 通过使用一个参数来传递必要的特殊值，将这些方法合并。

用显式方法替代参数

**问题：** 一个方法被分成多个部分，每个部分的执行依赖于一个参数的值。

**解决方案：** 将方法的各个部分提取到它们自己的方法中，并调用这些方法，而不是原始方法。

保持整个对象

**问题：** 你从一个对象中获取多个值，然后将它们作为参数传递给一个方法。

**解决方案：** 相反，尝试传递整个对象。

用方法调用替代参数

**问题：** 调用查询方法并将其结果作为参数传递给另一个方法，而该方法本可以直接调用查询。

**解决方案：** 尝试在方法体内放置查询调用，而不是通过参数传递值。

引入参数对象

**问题：** 你的方法包含一组重复的参数。

**解决方案：** 用一个对象替代这些参数。

移除设置方法

**问题：** 字段的值应在创建时设置，并且之后不应改变。

**解决方案：** 因此，移除设置字段值的方法。

隐藏方法

**问题：** 一个方法未被其他类使用，或仅在其自己的类层次内使用。

**解决方案：** 将该方法设置为私有或受保护。

用工厂方法替代构造函数

**问题：** 你有一个复杂的构造函数，它不仅仅是设置对象字段中的参数值。

**解决方案：** 创建一个工厂方法，用它替换构造函数调用。

用异常替换错误代码

**问题：** 一个方法返回一个特殊值来表示错误吗？

**解决方案：** 改为抛出异常。

用测试替换异常

**问题：** 你在一个简单测试可以解决的地方抛出异常吗？

**解决方案：** 用条件测试替换异常。
