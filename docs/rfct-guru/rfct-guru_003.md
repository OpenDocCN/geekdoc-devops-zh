# 技术债务

> 原文：[`refactoringguru.cn/refactoring/technical-debt`](https://refactoringguru.cn/refactoring/technical-debt)

每个人都尽力从头开始编写优秀的代码。可能没有程序员故意编写不干净的代码来损害项目。但在什么情况下，干净的代码变得不干净？

关于不干净代码的“技术债务”隐喻最初由沃德·坎宁汉姆提出。

如果你从银行贷款，这允许你更快地进行购买。你需要额外支付加快过程的费用——你不仅要偿还本金，还要支付额外的利息。不用说，你甚至可能积累如此多的利息，以至于利息总额超过你的总收入，使得完全偿还变得不可能。

同样的事情也可能发生在代码中。你可以暂时加速，而不为新功能编写测试，但这将逐渐每天减缓你的进度，直到你最终通过编写测试来偿还债务。

## 技术债务的原因

#### *业务压力*

*有时商业环境可能迫使你在功能完全完成之前推出功能。在这种情况下，代码中将出现补丁和应急措施，以隐藏项目未完成的部分。*

#### *对技术债务后果缺乏理解*

*有时你的雇主可能不理解技术债务的“利息”，因为它随着债务的积累而减缓开发进度。这可能使得团队难以投入时间进行重构，因为管理层看不到其价值。*

#### *未能抵制组件之间的严格一致性*

*此时，项目看起来像一个整体，而不是各个模块的产品。在这种情况下，对项目某一部分的任何更改都会影响其他部分。团队开发变得更加困难，因为很难隔离个别成员的工作。*

#### *缺乏测试*

*缺乏即时反馈会鼓励快速但冒险的变通方案或应急措施。在最糟糕的情况下，这些更改会在未经任何先前测试的情况下直接实施并部署到生产环境中。后果可能是灾难性的。例如，一个看似无害的热修复可能会向数千名客户发送奇怪的测试电子邮件，甚至更糟，冲掉或损坏整个数据库。*

#### *缺乏文档*

*这会减缓新成员加入项目的速度，如果关键人员离开项目，可能会使开发陷入停滞。*

#### *团队成员之间缺乏互动*

*如果知识库没有在公司内部分布，人们最终将会以过时的理解来处理项目中的流程和信息。当初级开发人员受到错误的培训时，这种情况可能会加剧。*

#### *长期在多个分支中同时开发*

*这可能导致技术债务的累积，当更改合并时，技术债务会增加。孤立进行的更改越多，累计的技术债务就越大。*

#### *延迟重构*

*项目的需求不断变化，某些时候，代码的部分可能会变得过时、繁琐，必须重新设计以满足新需求。*

另一方面，项目的程序员每天都在编写与过时部分配合的新代码。因此，重构延迟越久，未来需要重新修改的依赖代码就会越多。

#### *缺乏合规性监控*

*当项目中的每个人都按照自己的方式编写代码时（即与上一个项目相同的方式），就会发生这种情况。*

#### *无能*

*这发生在开发者根本不知道如何编写体面的代码时。*
