# 移动字段

> 原文：[`refactoringguru.cn/move-field`](https://refactoringguru.cn/move-field)

### 问题

一个字段在另一个类中的使用频率高于在其自身类中的使用频率。

### 解决方案

在新类中创建一个字段，并将所有旧字段的使用者重定向到该字段。

之前！移动字段 - 之前之后！移动字段 - 之后

### 为什么重构

字段通常作为提取类技术的一部分进行移动。决定将字段保留在哪个类中可能很困难。我们的经验法则是：**将字段放在使用它的方法相同的位置**（或者其他大多数方法的位置）。

这个规则在字段简单地位于错误位置时也会有所帮助。

### 如何重构

1.  如果字段是公开的，将字段设为私有并提供公共访问方法将使重构变得容易得多（为此，你可以使用封装字段）。

1.  在接收类中创建相同的字段及其访问方法。

1.  决定如何引用接收类。你可能已经有一个返回适当对象的字段或方法；如果没有，你需要编写一个新的方法或字段来存储接收类的对象。

1.  用接收类中的相应方法替换所有对旧字段的引用。如果字段不是私有的，请在超类和子类中处理此事。

1.  删除原类中的字段。

</images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56>

</images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4>

你的浏览器不支持 HTML 视频。

### 厌倦阅读了吗？

难怪，阅读我们这里所有文本需要 7 小时。

尝试我们的交互式重构课程。它提供了一种更不乏味的学习新知识的方法。

*我们来看一下…*
