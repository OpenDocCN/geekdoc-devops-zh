# 移动方法

> 原文：[`refactoringguru.cn/move-method`](https://refactoringguru.cn/move-method)

### 问题

一个方法在另一个类中使用得比在它自己类中多。

### 解决方案

在使用该方法最多的类中创建一个新方法，然后将旧方法中的代码移动到那里。将原方法的代码转换为对另一个类中新方法的引用，或者完全删除它。

之前！移动方法 - 之前之后！移动方法 - 之后

### 为什么重构

1.  你想把一个方法移动到一个包含该方法使用的大部分数据的类中。这使得**类的内部更加一致**。

1.  你想移动一个方法，以减少或消除调用该方法的类对其所在类的依赖。如果调用类已经依赖于你计划将方法移动到的类，这可能会很有用。这**减少了类之间的依赖性**。

### 如何重构

1.  验证旧方法在其类中使用的所有特性。将它们一起移动可能是个好主意。一般来说，如果某个特性仅被考虑中的方法使用，你肯定应该将其移动。如果该特性也被其他方法使用，你也应该同时移动这些方法。有时移动大量方法比在不同类之间建立关系要容易得多。

    确保该方法没有在超类和子类中声明。如果是这样，你要么必须停止移动，要么需要在接收类中实现一种多态，以确保方法在捐赠类之间的不同功能。

1.  在接收类中声明新方法。你可能想给这个方法一个更适合它的新名称。

1.  决定你将如何引用接收类。你可能已经有一个返回适当对象的字段或方法，但如果没有，你需要写一个新方法或字段来存储接收类的对象。

    现在你有了引用接收对象的方法以及它的类中的新方法。掌握这些后，你可以将旧方法转换为对新方法的引用。

1.  看看：你能完全删除旧方法吗？如果可以，请在所有使用旧方法的地方放置对新方法的引用。

</images/refactoring/banners/tired-of-reading-banner-1x.mp4?id=7fa8f9682afda143c2a491c6ab1c1e56>

</images/refactoring/banners/tired-of-reading-banner.png?id=1721d160ff9c84cbf8912f5d282e2bb4>

你的浏览器不支持 HTML 视频。

### 厌倦阅读了吗？

难怪，阅读我们这里所有文本需要 7 小时。

尝试我们的交互式重构课程。这提供了一种更轻松的学习新知识的方法。

*让我们看看…*
