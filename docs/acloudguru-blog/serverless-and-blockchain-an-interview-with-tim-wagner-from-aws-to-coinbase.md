# 作为技术的无服务器和区块链

> 原文：<https://acloudguru.com/blog/engineering/serverless-and-blockchain-an-interview-with-tim-wagner-from-aws-to-coinbase>

欢迎来到“无服务器超级英雄”！在这里，我与工具制造商、创新者和开发人员聊天，他们正在探索“无服务器”云应用的全新世界。

在这个版本中，我与 AWS Lambda、API Gateway 和无服务器应用程序库的前总经理 Tim Wagner 聊天，他现在是比特币基地的工程主管。为了清晰起见，以下采访经过了编辑和压缩。

需要更全面的介绍区块链到底是什么，以及为了理解它需要知道什么？获得[区块链认证](https://acloudguru.com/course/blockchain-essentials)并了解这项革命性技术的来龙去脉。

## 来自比特币基地工程副总裁 Tim Wagner 的见解

Forrest Brazeal:首先，让我祝贺你成为比特币基地公司的工程主管！在 AWS 担任 Lambda 总经理后，是什么让这成为你合乎逻辑的下一步？

蒂姆·瓦格纳:我真的认为有两种颠覆性的技术正在改变我们建立和运营企业的方式。其中之一当然是无服务器。在过去的六年里，我一直致力于使它成为一个成功的平台和生态系统。

看到最近在旧金山举行的云专家会议的出席人数，以及供应商提供的服务和围绕它成长的生态系统的成熟，我真的觉得无服务器现在有着惊人的势头。

第二个我认为真正具有颠覆性并具有惊人影响力的技术是区块链技术。现在，这个还很年轻。我可以说，我们大致处于我加入帮助构建 Lambda 时 AWS 的位置，甚至可能比它的生命周期还要早一点。

因此，我认为比特币基地已经做好了充分的准备，既可以使这些底层技术成熟，也可以像 AWS 那样围绕这些技术发展业务。我还认为比特币基地和 AWS 有很多我所信奉的文化价值观:强烈的主人翁意识，对客户的执着，对创新的承诺，快速行动。

我喜欢比特币基地有一个梦幻般的愿景，这个想法就是创建一个开放的金融系统，让世界上的每个人都可以使用。因此，他们邀请我加入他们的使命，我感到非常荣幸和兴奋，我期待着通过继续吸引世界级的工程人才来帮助加快这些努力。

当我说我们迫不及待地想看看你的锦囊妙计时，我想我代表了整个社区！你以前在公共场合破坏过服务器，所以我无法想象你现在会破坏什么。

嗯，我真的不能烧钱，所以从戏剧的角度来看，区块链没有提供所有相同的优势！

### 区块链技术和无服务器技术

说真的，我认为有些人会下意识地嘲笑无服务器和区块链，认为它们都是时尚的技术，没有实质内容的炒作。然而，你过去曾说过，你认为这两样东西是巧克力和花生酱，是搭配起来会更好的好主意。无服务器和区块链有什么特别之处使它们成为如此自然的组合？

[区块链提供了一个透明的分布式数据存储](https://acloudguru.com/blog/engineering/blockchain-and-serverless-processing-similarities-differences-and-how-they-fit-together)，具有真正独特的信任模型。但是今天，它缺乏一种简单的方法来将该模型与任意代码执行连接起来，这限制了您在智能契约中可以做的事情，尽管它们很有趣。

另一方面，像 AWS Lambda 这样的软件可以可伸缩地、可靠地执行来自可信供应商的第三方代码，但是今天它没有提供一种机制来将这些代码用作双方之间的契约协议。设置它需要应用程序代码。

因此，如果你能把这两种能力结合在一起，我认为我们可以为各种规模的企业和组织提供这种能力，为各种各样的商品和服务建立相互信任和可执行的合同。我认为这将是一个非常有趣的未来。

所以你会预见到无服务器会影响实际的区块链交易，而不仅仅是处理私有网络上的离线工作？

我认为有一个有趣的机会将这两者结合起来。特别是当我们想到——不一定是最极端的区块链形式，在这种形式中，每个人都不信任其他人——而是“企业区块链”,如果你愿意，在这种情况下，你可能有一个非常值得信赖的供应商，如 AWS，已经在托管你的基础架构。

### 蒂姆·瓦格纳之前在 AWS 的角色

你已经不再担任 AWS Lambda、API Gateway 和无服务器应用程序库的总经理。回想那些年，你的团队取得了什么让你今天最自豪的成就？

当我开始在 AWS 工作时，在云中创建一个应用程序真的需要一个分布式系统专家，这个人能够理解多可用性区域和冗余之类的东西。

当我离开的时候，我们有高中生在 Lambda 上开发 Alexa 技能，开发支持语音的应用程序，在许多情况下，他们甚至不知道 EC2 是什么。他们对构建、扩展、运营和配置云基础架构的挑战一无所知，这是一件幸事。这是我最自豪的事情。

我现在最兴奋的事情是，团队继续让云变得可访问、易于使用、易于集成、易于交付，以满足比我们六年前开始时多得多的人群。

我认为，像区块链这样的新兴技术也有类似的机会，可以将今天复杂的、感觉难以获得的东西生产出来，让很多人都能使用。

### 无服务器技术方法

**也就是说，您认为无服务器发展的下一步是什么？**

你知道我喜欢做预测。在不泄露任何国家机密的情况下，我对埃里克·乔纳斯在伯克利的团队所做的事情感到非常兴奋。我认为它们指出了一条未来的道路，不仅应用程序更容易构建，而且我们可以开始像对待超级计算机一样对待云。

云中有数量惊人的硅。我认为，在未来几年中，我们将会看到编程模型、框架和应用程序功能的发展，并且有机会以这样一种方式使用它，即你只为你所消耗的实际工作付费，而不是为空闲时间付费。

我个人并不认为我们已经“放弃”了无服务器。从某些方面来说，我们现在正处于青春期。在许多应用程序中，人们还没有将无服务器视为显而易见的解决方案，我认为在未来几年中，他们很可能会将无服务器视为合适且有益的解决方案。

如果这些人现在还没有看到无服务器的好处，你认为有什么可以帮助他们把事情联系起来？

一件事是成长的烦恼会消失。我们都认识到的挑战，如工具可用性、监控和诊断，甚至服务限制，我认为这些将会越来越好。供应商都非常专注于消除这些限制，并从应用程序编程中消除这种摩擦。

另一个关键的改进是编程模型的扩展。因此，对于今天可能更具挑战性的事情，无论是因为限制还是因为无法以无服务器的方式表达应用程序，我认为我们将在未来几年内看到许多创新和令人兴奋的变化。

我认为这两项改进结合起来将使绝大多数应用程序可以通过无服务器的方式访问和使用。

### 蒂姆·瓦格纳比较了 Lambda 和 EC2

你在 ServerlessConf 上的演讲让我印象深刻，你谈到人们在对 Lambda 和 EC2 的成本进行直接比较时会忽略什么。您能分享一下您是如何为客户细分这些数字的吗？

人们倾向于忘记或低估所有你需要放在一起形成一个实际解决方案的事情。因此，人们将只比较拼图的一部分，就像只比较 EC2 实例和 Lambda，他们会忘记他们还需要使其高度可用，他们需要考虑负载平衡器，如果他们正在构建异步或基于事件的解决方案，他们需要一个队列来放置作业。

当他们完成后，我们在系统架构方面有了更现实的比较。但是这通常是更容易克服的挑战，因为通常房间里有一个建筑师理解这一点并会点头同意。

对于以前没有必要使用 Lambda 或其他无服务器解决方案的客户来说，这更像是一次教育之旅，因为这种假设是服务器总是很热的，它们的利用率是 100%。事实上，我们从研究中了解到，传统企业利用率下降了 10%到 15%。

大多数时候，大多数服务器没有做任何有用的事情。大量的空白空间，效率的缺乏，是无服务器可以从等式中去掉的。

“绝不为闲置资源买单”的口号是真正的经济游戏规则改变者。在公司看到这种运作之前，他们有时会有点不愿意信任。但坦率地说，一旦一家公司去了那里，这通常是他们最兴奋的事情。

他们喜欢上市时间，他们喜欢简单，但你听到像房利美和赫斯特这样的公司在 re:Invent 或 AWS 峰会上谈论的事情往往是他们成功实现的经济胜利。

这些可能是一些惊人的数字。我们在最近的一次会议上，FICO 谈到他们已经转换的应用程序可以节省一到两个数量级的成本。

我总是说证据就在布丁中，你应该尝试一下，我认为一旦公司在其组织的一部分进行了试验，我们就会在 Lambda 团队中看到非常快速的采用和扩展到其他用例中。

你认为 Lambda，或者更广义的 FaaS，是真正无服务器架构的一部分吗？或者有没有可能在完全不使用功能计算的情况下构建这些系统？

在这里，我要区分两件事。完全托管的服务具有巨大的价值，可以根据请求进行扩展，并且可以很好地协同工作。例如，当你在 AWS 平台上构建时，你可以将 S3、Lambda、API Gateway 和 DynamoDB 连接在一起，形成一个无服务器的 web 应用，所有这些都将以同步的方式扩大和缩小。

因此，这些现代设计模式确实倾向于完全托管的服务协同工作，这就是为什么业务逻辑经常以 Lambda 的形式表达。

现在，说了这么多，我绝对相信，在 AWS 平台上，有一些设计模式不一定需要任意的业务逻辑。作为一个很好的例子，你可以从 AWS CloudTrail 获取审计跟踪，然后使用 Amazon Athena 查询这些跟踪并检测其中的模式，有可能将它们交给 Amazon SageMaker 或其他产生 ML 的方法。

其中很多不一定需要太多的编码，在某些情况下可能只需要编写一个 SQL 查询。事实上，在我正在写的设计模式的书里，我们有一章我们正考虑称之为“无代码模式”,正是因为这个原因。

作为无服务器沙皇，你最后的行动之一就是将 Lambda/SQS 集成推向世界。这是 AWS 社区多年来的一个功能需求。我感觉这里面一定有故事。你能解释一下为什么无服务器特性并不总是像看起来那么简单吗？

哦，天啊。我们大概在五年前就开始讨论 SQS 到λT1 的功能，所以这是一个漫长的过程。它可能是我在 AWS 工作期间所接触到的所有特性中起源最长的一个，而且它肯定比乍看起来更难。

[查看帖子](https://acloudguru.com/blog/engineering/serverless-and-blockchain-an-interview-with-tim-wagner-from-aws-to-coinbase)

我经常告诉人们想象一下，如果你能以某种方式让胡佛大坝消失，想想下游会发生什么。这正是这里要做的事情，因为在将 SQS 队列与函数挂钩之前，您可以在队列中放入无限数量的元素。

所以为了给客户——坦率地说，也给我们自己——一些控制，我们不得不发明一个全新的特性，Lambda 中每个函数的并发控制，这也意味着我们必须有度量标准和内部基础设施。

这就需要我们改变一些架构来生产我们所谓的高速计数服务，等等等等。对于露出水面的那块来说，水线下有一大堆冰山。

所以我们知道这是一个令人沮丧的来源，客户真的想要这个功能，我们很高兴我们终于可以提供它。我希望我们可以做得更快，但我一直希望我能告诉一点点的旅程，以及为什么我们需要一段时间才能到达那里。

Tim，我祝你在事业上一帆风顺。听起来你会参与一些很棒的新东西，但是我希望你也不要忘记无服务器社区……

肯定不是。我正在继续写无服务器设计模式的书，老实说，我有几篇博客文章迫不及待地想要发表。我一直在思考一些新的想法，所以我肯定会继续积极地为无服务器社区做贡献并与他们合作！

* * *

## 获得更好职业所需的技能。

掌握现代技术技能，获得认证，提升您的职业生涯。无论您是新手还是经验丰富的专业人士，您都可以通过实践来学习，并在 ACG 的帮助下推进您的云计算职业生涯。

* * *

Forrest Brazeal 是一名 AWS 无服务器英雄，也是 Trek10 的云架构师。他在[*【A Cloud Guru*](https://acloud.guru/)*创作了 ACG 无服务器超级英雄系列并绘制了《FaaS 与愤怒》卡通系列。如果你有无服务器的故事要讲，请在*[*@ forrestbraceal*](https://twitter.com/forrestbrazeal)*让他知道。*