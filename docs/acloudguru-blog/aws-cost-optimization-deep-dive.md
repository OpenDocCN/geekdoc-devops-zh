# AWS 成本优化深度探讨

> 原文：<https://acloudguru.com/blog/engineering/aws-cost-optimization-deep-dive>

嘿，大师们！先说一下**云**吧。我们知道它是什么，并且大多数企业已经或计划将其基础架构迁移到云。但是今天，我想谈谈云的一个重要方面:成本。俗话说，金钱万能。在本文中，我将介绍与 AWS 相关的成本类型，并向您介绍一些方便的 AWS 成本优化工具和服务，它们将帮助您优化成本！

## 什么是 AWS 中的成本优化？

让我们首先来了解一下成本优化的含义以及它的重要性。

成本优化就是让您的云支出实现最大价值。通过考虑我们需要从一个解决方案中获得什么样的商业价值，我们可以设计它来降低我们的成本，并不断地审查它，以找到随着时间的推移继续降低成本的方法。这可以降低我们每月的账单，也带来了新的投资机会！

![](img/534ddec368f4bc77473bd89dd1388be0.png)

*If you’re like me, saving money on AWS means you could be putting money into other things. Like animal swag.*

了解如何随着工作负载的变化削减成本并保持最佳成本是成本优化的关键。

## AWS 自由层

大多数流行的 AWS 服务都有一个[免费层](https://aws.amazon.com/free)，可以在你刚开始使用时使用。当您开始构建生产工作负载时，自由层通常足以为您提供相当多的缓冲。

## AWS 定价计算器

一个很棒的 AWS 优化工具是 [AWS 定价计算器](https://calculator.aws/)，它可以在您开始产生费用之前帮助您估算成本。使用价格计算器时，请确保收集尽可能多的使用数据，以确保您的估计尽可能准确。如果你在几乎没有任何信息的情况下匆忙完成估算，你的成本最终可能会与你的估算相差很大，所以花时间做好你的尽职调查。

## AWS 架构良好的框架

AWS 知道使用云是多么令人生畏，并有一个框架来帮助指导您如何构建自己的环境。这就是所谓的 [AWS 架构良好的框架](https://aws.amazon.com/blogs/apn/the-6-pillars-of-the-aws-well-architected-framework/)，它由六大支柱组成:**卓越运营**、**安全性**、**可靠性**、**性能效率**、**成本优化**和**可持续性**。每个支柱都有自己的设计原则，将它分解成易于理解的部分。

今天，为了与本文的主题保持一致，我们自然会将重点放在成本优化支柱上。让我们来看看这个支柱的五个设计原则。

这五个原则是:**实践云财务管理**、**支出和使用意识**、**成本有效资源**、**管理需求和供应资源**、**随时间优化**。这 5 条原则中的每一条都有自己的最佳实践要记住。

我们可以更深入地研究这五个原则。

* * *

准备好提升你的 AWS 技能了吗？无论你是刚刚起步还是经验丰富的云专家，云专家的边做边学方法都将帮助你掌握云技术并在职业生涯中取得进步。

* * *

### 实践云财务管理

从传统内部计算模式向云计算的部分过渡是从资本支出(CAPEX)转向运营支出(OPEX)。不是只买昂贵的硬件，尽可能多地使用它，任何东西都有成本。这意味着我们需要这样对待它，并重新定位我们对财务管理的看法。

这将包括预算、报告、量化业务价值，以及了解 AWS 中的更新。使用像 [Cost Explorer](https://aws.amazon.com/aws-cost-management/aws-cost-explorer/) 这样的服务有助于审查成本和使用情况，并获得两者的预测。使用这些信息来查看您的成本或使用情况的峰值可以帮助您转移您的关注点，以找到更具成本效益的方式来使用特定的服务或工作流。

在你的团队中有一种成本意识的文化有助于在你的组织中以一种可扩展的和有机的方式嵌入好的实践。您可以通过使用自动化和预测来进一步削减总体成本，并让您的团队专注于其他重要任务。

### 支出和使用意识

即使我们正在发生成本，也很难确切知道在哪里，以及发生了多少。当谈到优化 AWS 的成本时，拥有详细的意识是一个很大的难题。AWS 控制塔、组织和 IAM 管理控制访问，可以帮助您以整体和集中的方式整合和管理计费。

您还可以使用带有标签的[实例调度器](https://docs.aws.amazon.com/solutions/latest/instance-scheduler-on-aws/welcome.html)来启动和停止 EC2 和 RDS 实例，并解除资源。如果您知道 EC2 实例的高峰使用时间，可以考虑使用实例调度器来停止不使用的实例，以降低成本。如果您的使用量很高，但是您希望在实例运行时进行优化，那么可以考虑使用自动伸缩组来管理实例何时自动伸缩。

### 经济高效的资源

当考虑成本优化时，成本有效的资源是你的面包和黄油。

为了节省您的资源，您必须了解您的用例。评估你的需求是什么，然后探究相关的成本。您的用例可能会支持极其经济高效的无服务器解决方案，如 [AWS Lambda](https://aws.amazon.com/lambda/) ，或者使用 ECS 或 EKS 的基于容器的解决方案，而不是使用传统的虚拟机(我们甚至有一篇博文更详细地解释了[无服务器与容器](https://acloudguru.com/blog/engineering/containers-vs-serverless-which-is-right-for-you))。或者您可以更进一步，使用完全托管的解决方案，如 RDS，消除管理数据库服务器的需要。

从长远来看，了解如何优化 EC2 实例也将为您节省资金。存储可能是一个急需资金的庞然大物，但有效的 S3 使用有助于控制成本。在考虑资源成本时，了解特定服务的定价方式将大有帮助。在发生费用的地方，一定要做好尽职调查和研究。

了解数据的移动方式有助于您关注数据传输成本。[数据传输成本](https://aws.amazon.com/blogs/architecture/overview-of-data-transfer-costs-for-common-architectures/)经常被忽视。通过选择正确的服务并实施最适合您的使用案例的架构，优化您的数据传输网络成本。例如，需要跨不同区域传输的流量通常会产生数据传输费用。考虑一下这是否是你的企业真正需要的。

* * *

*从这些 [10 个有趣的动手项目开始构建你的云计算技能，学习 AWS](https://acloudguru.com/blog/engineering/10-fun-hands-on-projects-to-learn-aws) 。*

* * *

### 管理需求和供应资源

“管理需求和供应资源”原则侧重于了解如何接收和处理您的工作量。

节流和缓冲是实现不同需求风格的方法，各有利弊。了解您的使用案例，以及哪些资源可以用来为这些需求提供最佳供应基础，可以防止您的成本在事情没有按计划进行时变得难以承受。

对于某些间歇性工作负载，无服务器解决方案可能最适合您的需求，只在需要时执行。在其他情况下，您可能更喜欢使用自动缩放功能，如通过 [AWS 自动缩放](https://aws.amazon.com/autoscaling/)提供的功能来管理您的资源。

### 随着时间优化

随着时间的推移进行优化是您美味成本蛋糕上的糖霜。当你达到这一点时，祝贺你！你的基础和所有重要的部分都到位了，就像蛋糕里的海绵底层一样。但是，随着您的工作量随着时间的推移不断发展和变化，工作永远不会真正完成。CloudWatch、CloudTrail、Trusted Advisor 和 Config 等服务为您提供了持续审查和审计工作负载的可见性和工具，并帮助您保持最佳的支出状况。

例如，让我们说，你开始了一个名为飞熊公司的家庭企业。你的企业创造和销售世界各地的飞熊艺术品。突然之间，当你的一些作品出现在电影中时，生意就起飞了。您的资源需要扩展以处理新增加的请求，您可能需要考虑跨区域扩展这些资源，以允许世界各地的人们查看您的工作。

使用 CloudWatch 中的仪表盘可以帮助您了解您的使用量增长了多少，以及哪些资源的使用量最大，以便您可以制定计划来专门扩展该资源。使用 Config 保存和审核您的所有配置，以确保它们得到一致的使用，并且与启动的每个新资源所需的配置相匹配。

你的用例也可能随着时间而改变。使用带有按需定价的 EC2 实例最初可能很经济，但是随着负载的增加，您可能会选择开始使用保留实例或[节省计划](https://aws.amazon.com/savingsplans/)。同样，随着您的解决方案老化，用户变得不那么活跃，并且不需要经常扩展，切换回按需实例实际上可能会节省您的资金！

* * *

你是想开始你的 AWS 职业生涯还是想让你的技能更上一层楼？我们的 AWS 学习路径提供定制的路径，让您的云计算之旅更加精彩！

* * *

## 成本优化不一定代价高昂

驾驭云就像驾驭一片古老的森林一样充满挑战，云成本就像一头可怕的巨兽，随时准备抬起头来，让你大吃一惊。但不一定非要这样；AWS 的服务可以帮助您和您的团队为预期和意外成本做好准备，并提供最佳实践以避免后者。

本文仅仅触及了理解 AWS 成本优化原则所必需的所有内容的表面。因此，如果你想深入研究这些话题，请查看我的 [AWS 成本优化深入研究](https://learn.acloud.guru/course/cost-optimization-on-aws-deep-dive/overview)课程。

使用动手实验在真实场景中练习课程中涉及的一些概念。在每一部分的最后，还有一些方便的小测验来测试你的知识。当你完成课程后，和我一起跳舞庆祝吧！

谢谢你今天陪我玩，大师。深呼吸，小步走，记得要保持牛逼！