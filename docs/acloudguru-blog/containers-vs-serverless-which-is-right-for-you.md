# 容器与无服务器:哪个适合你？

> 原文：<https://acloudguru.com/blog/engineering/containers-vs-serverless-which-is-right-for-you>

容器和无服务器提供了许多相同的好处。但是容器和无服务器有什么区别呢？在本帖中，我们将讨论每种方法的优缺点和用途。

当 AWS 在 2014 年首次推出 Lambda 时，无服务器并不是什么新鲜事，但自那以后，它已经呈指数级增长。今天，您可能会好奇迁移到无服务器是否适合您、您的公司和您的应用程序。虽然这在很大程度上取决于*如何*构建您的应用程序，但我们可以根据设置做出一些概括。

让我们从更高的层面来看看在选择使用容器还是转移到无服务器时的一些好处和顾虑。

* * *

**加速您的云计算职业生涯**

云专家让你轻松(也很棒)提升你的云事业——即使你对技术完全陌生。查看 [ACG 目前的免费课程](https://acloudguru.com/blog/news/whats-free-at-acg)或[立即开始](https://acloudguru.com/pricing)免费试用。

* * *

## 容器与无服务器

如果我们不看得太深，容器和无服务器似乎有许多相同的好处:我们的代码是可重用的，可复制的，并且假设我们在使用容器的同时使用某种容器服务，高度可伸缩的。

事实上，如果我们有机会查看托管我们的无服务器代码的服务器(因为在那里有一个服务器，即使我们不能访问它)，我们会发现我们的代码运行在一个容器中。但这并不意味着容器和无服务器是一回事。

## 无服务器优势

### 设置

当我们开发一个无服务器应用程序时，我们唯一需要提供给无服务器平台的是我们的代码，通常是通过某种版本控制库。这消除了实际启动代码的任何前期设置——我们甚至不需要选择容器映像！也就是说，如果你有任何容器化的 monolith，我们代码之外的任何集成都需要找到一个新家，这实际上只意味着通过使用无服务器，你将被迫放弃一些坏习惯(比如保留 PHP monolith)。

### 费用

无服务器应用程序仅在被触发时运行。虽然我们可以进行设置，使应用程序中需要保持“温暖”的部分保持温暖，但不需要其他不常用的功能时也不需要。(相比之下，容器需要保持运行，我们的代码才能工作。)这意味着我们不会为我们没有使用的东西付费，这意味着我们在省钱。

### 缩放比例

我们注意到无服务器和容器都可以扩展，但是它们如何扩展会有所不同。使用无服务器时，我们是在功能级别而不是应用程序或服务级别进行扩展，这意味着我们要扩展的组件更小、更模块化，从而节省成本。

## 集装箱强度

### 接近

当使用无服务器时，我们无法访问底层基础设施——容器、服务器或其他。这意味着我们如何进行故障排除、调试、查看日志，以及如何与我们的应用程序进行交互，因为开发人员或 devops 工程师将会改变，让我们完全受我们选择的无服务器平台的支配。这可能是一件好事，但对许多人来说，这将放弃宝贵的资源来使用我们的应用程序。

### 灵活性

当使用无服务器时，我们在设计应用程序时会受到限制。大多数功能即服务平台都是围绕事件驱动架构的理念构建的，对于其他选项的灵活性有限。我们还受到平台强加给我们的任何限制，比如函数长度、代码上传大小和运行时间。

### 安全性

最后，对于那些对安全性要求很高的人来说，比如数据保存在某些地区或本地，容器可能仍然是最好的选择。也就是说，请记住，大多数云平台都遵循严格的安全法规，可能比小公司能够管理的安全性更好。最终，这取决于您需要满足什么标准，但是您可能仍然会发现无服务器在某些情况下是被禁止的。

## 概览:容器与无服务器

| 容器 | 无服务器 | **设置** |
| --- | --- | --- |
| 必须建立集装箱基础设施；选择容器图像、大小等。 | 只需提供代码；也很可能利用托管服务进行集成 | **架构** |
| 容器可以支持任何类型的代码架构——甚至是你的 PHP 单体 | 无服务器平台依赖于事件驱动的基础设施 | **缩放** |
| 可在容器级别扩展 | 在功能级别可伸缩 | **成本** |
| 只要集装箱运行就付款 | 只有在功能运行时才付费；函数只在被调用时运行 | **访问** |
| 对底层容器(通常是基础设施)的访问有助于故障排除和调试 | 我们只能访问我们的代码和我们可能使用的其他相关服务；必须利用新的故障排除和调试技术 | **灵活性** |
| 无论你想怎么设计，只要你想就运行函数，使用你自己的运行时 | 受限于平台的限制，包括函数长度、上传大小和运行时间 | **安全** |
| 完全控制您自己的安全选择，无论是好是坏 | 以您选择的云平台的安全能力为后盾 | 结论 |

## 虽然无服务器无疑是令人兴奋的，并且不会很快普及，但它是否是正确的选择仍然是每个应用程序或公司最终独特的决定。无服务器当然可以节省成本和最小的开销，但这是以放弃许多开发人员、工程师和管理员所依赖的底层访问和容器提供的灵活性好处为交换的。

要了解更多关于无服务器和容器的信息，请查看我们的课程[将架构从容器改变为无服务器](https://acloudguru.com/course/changing-architectures-from-containers-to-serverless)。在这篇文章中，我们将探索为什么、是否以及如何从容器迁移到无服务器。

**加速您的云计算职业生涯**

* * *

云专家可以让你轻松提升自己的云职业生涯——即使你对技术一无所知。查看 [ACG 目前的免费课程](https://acloudguru.com/blog/news/whats-free-at-acg)或[立即开始](https://acloudguru.com/pricing)免费试用。

A Cloud Guru makes it easy to level up your cloud career — even if you’re totally new to tech. Check out [ACG’s current free courses](https://acloudguru.com/blog/news/whats-free-at-acg) or [get started now](https://acloudguru.com/pricing) with a free trial.