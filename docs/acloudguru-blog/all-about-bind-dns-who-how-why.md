# 关于绑定 DNS:谁、如何和为什么

> 原文：<https://acloudguru.com/blog/engineering/all-about-bind-dns-who-how-why>

## BIND:简史

BIND(伯克利互联网域名)是一个软件工具集合，包括世界上最广泛使用的 DNS(域名系统)服务器软件。DNS 服务和工具的这种功能完整的实现旨在 100%符合标准，并且是；旨在作为 DNS 软件的参考架构。BIND 最初写于 20 世纪 80 年代的加州大学伯克利分校，是一个免费的开源软件包。最新的主要版本 BIND 9 最初发布于 2000 年，由互联网系统联盟定期维护。 对于小型或者不复杂的网络，BIND 本身非常适合提供所有 DNS 相关的服务功能。使用 BIND，您可以运行缓存 DNS 服务器、权威服务器，甚至两者一起运行。

## 谁使用 BIND？

**BIND 是互联网上最常用的 DNS 服务器软件。**通常，日常管理 BIND DNS 服务器的人是熟悉 Linux/UNIX 的网络管理员或系统管理员。虽然 BIND 也可以在 Windows 主机上运行，但是这样做仍然需要在系统上运行开源服务的深入知识。 很多管理员更喜欢使用 BIND over，比如 [微软 DNS](https://www.bluecatnetworks.com/microsoft/) ，因为它是一款紧跟 IETF 标准(RFCs)的开源软件。使用 BIND，您可以构建自己的定制工具来满足特定的 DNS 使用案例和操作需求。但是请注意，BIND 只管理 DNS，而不管理与其密切相关的 DHCP 和 IP 地址管理对等服务。

## 为什么理解 BIND 很有价值？

由于多种原因，了解如何配置绑定 DNS 服务器是很有价值的。网络和开发团队经常使用它，因此了解如何配置和使用 BIND 将证明是这两项工作中的一项必要技能。BIND 还可以让您非常精确地控制 DNS 服务器。有了它，您可以很快开始理解提供核心网络服务的内部工作方式。最后，如果您碰巧遇到一个不使用 BIND 的网络，或者正在过渡使用它，那么您通过使用 BIND 学到的基本技能将会很好地为您服务。除了 DNS 服务器本身之外，BIND 软件包中的大多数其他工具都可以与其他 DNS 服务器一起使用，因为它们使用标准的 DNS 消息协议。

## 特性&绑定的能力

这并不是一个详尽的列表，但它可以让你对绑定 DNS 有所了解(尤其是对于那些至少对 DNS 有所了解的人)。

*   权威 DNS:发布服务器权威控制下的 DNS 区域和记录，作为主服务器或从服务器。
*   拆分 DNS:发布 DNS 名称空间的多个视图，例如向内部用户和整个互联网提供不同的数据集。虽然每个视图通常被视为一个独立的虚拟服务器，但近年来，BIND 增加了一些功能，使得在视图之间共享数据变得更加容易。
*   递归 DNS(缓存解析器):代表客户端系统从其他 DNS 服务器获取数据，包括移动设备、桌面工作站和其他服务器。
*   动态更新(DDNS):使用特定种类的 DNS 消息(在 RFC 2136 中定义)在主服务器中添加或删除记录。
*   高效数据复制:及时高效地将数据从主服务器复制到辅助服务器，包括从主服务器到辅助服务器的更改通知以及从辅助服务器到主服务器的增量区域传输请求。
*   [【DNS 安全扩展(DNSSEC)](https://www.bluecatnetworks.com/blog/breaking-down-dnssec-how-does-it-work/) :对权威数据进行密码签名，并在缓存服务器上对收到的数据进行密码验证。BIND 支持 DNSSEC 标准的最新版本，包括椭圆曲线加密。
*   事务签名(TSIG)和密钥(TKEY):使用预共享密钥或动态协商密钥对消息进行加密签名，并验证这些签名。BIND 支持最新的标准签名算法，包括 Microsoft Active Directory 使用的算法。
*   [DDOS 缓解](https://www.bluecatnetworks.com/blog/ddos-attacks-use-dns-weapon/) :利用多种不同的特殊响应能力管理 DDOS 攻击的影响。
*   [IPv6](https://www.bluecatnetworks.com/blog/ease-your-transition-to-ipv6-dns/) :通过发布 IPv6 地址作为名称和直接参与 IPv6 组网来支持 IPv6

## 使用 BIND 的好处

*   绑定是可定制的。如果您可以用 Perl、Python、BASH 或 Powershell 编写代码，那么您可以为自己和您的网络构建任何您需要的定制工具。
*   预先绑定是免费的。与商业 DNS 解决方案(如 BlueCat、Microsoft 或 Infoblox)不同，BIND 开始使用时不需要任何成本。大多数 Linux/UNIX 发行版都在它们的存储库中预建了一个绑定包。
*   BIND 拥有庞大的支持群体。关于 BIND 的使用和故障排除的知识库和社区非常庞大，遍布全球。
*   BIND 是一款令人惊叹的入门工具。您在职业生涯中遇到的大多数 DNS 商业实现都是基于 BIND 的。拥有配置 BIND 服务器所需的基础知识将会派上用场。

## 为什么有替代绑定？

单独使用 BIND 的替代方案有两种:竞争性开源软件包和商业 DNS 产品。 开源竞争对手的存在主要是为了在整个 DNS 生态系统中提供多样性。他们的开发人员会选择不同的优先级，例如原始缓存 DNS 性能或 DNSSEC 性能，或者他们使用不同于标准区域传输格式的数据复制机制。 另一方面，大型或更复杂的网络往往需要更完整的 DNS、DHCP 和 IPAM 解决方案才能可靠运行。在大规模情况下，将 IPAM 解决方案强行捆绑到绑定 DNS 服务器上会产生大量不必要的风险和工作。BIND at scale 的问题在于，它促成了大型组织已经拥有的很多东西: [网络复杂性](https://www.bluecatnetworks.com/blog/bind-dns-digital-transformation/) 。保持网络运行(快速运行)所需的所有移动部件都很难同步更新和移动。BIND 并没有使它变得更容易，并且在这种情况下经常是一个对手。 例如，当您开始使用 BIND 时，您可能真正喜欢它的地方——比如您可以立即修补每一件小事的事实——当网络同时由数十或数百个不同的人和团队管理时，就会成为一个主要的风险因素。为自助服务或基于 API 的自动化提供有意义的入口点以及合理的基于角色的访问控制需要大量的工作，同样，这些工作最好用于推动业务的技术需求。 澄清一下，管理少量的绑定服务器是相对容易的。通过手动配置或自行开发的工具来管理大量资源需要人力资源和技术知识，这些资源和知识应该更好地用于满足企业的技术需求。当您一开始只有几个区域文件时，创建一个新的区域文件或添加一个新的 DNS 服务器是很简单的。否则，网络管理会变得复杂而繁琐。

## 使用 BIND 的缺点

绑定 DNS 服务器可以很好地扩展。然而，如上所述，大规模管理 BIND 需要额外的工具，这些工具可以是商业上可用的、开源的或自主开发的。另外:

*   BIND 只提供 DNS 服务和工具。这意味着，与 BIND 同步管理 DHCP 和 IPAM 等密切相关的服务需要更广泛的管理平台。这可以防止数据出现分歧和冲突，从而导致停机。
*   本身，BIND 不启用全网可见性。就 DNS 流量而言，每个 DNS 服务器都是一个孤岛，BIND 不提供网络中 DNS 流量的任何高级视图。
*   束缚是 [易破](https://www.bluecatnetworks.com/blog/when-to-replace-bind-dns/) 。其配置选项的广度和复杂性使得很容易犯语法错误，从而导致网络瘫痪。BIND 版本之间偶尔出现的配置语法差异进一步加剧了这种情况。

## 替代绑定:案例研究

对于选择投资的组织而言，除了单独管理 BIND 之外，还有一种替代方案是统一的 DNS、DHCP 和 IPAM 解决方案。为什么？因为统一了这三种服务，所以它们可以以一种通用和一致的方式进行管理，这是解决过度扩展的 [绑定网络](https://www.bluecatnetworks.com/blog/when-to-replace-bind-dns/) 所遭受的许多问题的开始。这并不意味着失去 BIND 软件包的功能；许多这样的统一解决方案都包含了绑定名称服务器，为您提供了所需的所有功能和灵活性，同时封装了管理并消除了运营风险。 例如，如果 IP 地址与 DNS 记录在同一个系统中进行管理，那么 IP 冲突/中断的风险就会降低。事实上，您可以在 DNS、DHCP 和 IPAM 之间自动执行配置工作流，这取决于您的喜好。这不仅能保护网络免受日常错误的影响，还能显著加快 IT 运营速度。 技术领导者的统一目标是走向全面的数字化转型。随着这种转变而来的是减少组织对专家或深奥的专家的依赖的能力(这些专家不可避免地会去度假、换工作或离开他们的角色)。这也是为了减少聪明能干的人不得不做手工的、重复的工作。BIND 的替代方案可降低灾难性打字错误的风险，简化 IT 运营，并支持需要机器速度网络变化的数字化转型计划。总的来说，比起一个接一个地配置服务器，这给精通技术的人提供了更刺激的项目。

## 在关闭时

学会捆绑。真的，对你有好处。学习它来建立你公司的网络。对于那些大规模管理 DNS 及其相关服务的人来说，体验一下它们有多复杂。用你的新知识让网络变得更好。 准备好投入一切束缚已有的奉献了吗？磨砺你的技能，今天就尝试[这个课程](https://linuxacademy.com/course/dns-and-bind-deep-dive/)！

### 关于作者:

#### 克里斯·巴克斯顿是蓝猫公司的工具和策略经理。

他是一名网络核心服务架构师，专攻 DNS(包括 DNSSEC)、DHCP 和 IP 地址管理(DDI)。高级 Perl 脚本能力，包括寻址 SOAP APIs。在 Linux、Mac OS X 和 Windows 环境方面有丰富的经验。他对解决有趣的问题/难题特别感兴趣，并喜欢与学生交流，根据他们的需求定制培训经验，并帮助他们将材料应用到他们的现实世界问题中。