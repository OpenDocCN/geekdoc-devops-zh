# 请教专家:10 大云迁移挑战(以及如何克服这些挑战)

> 原文：<https://acloudguru.com/blog/engineering/ask-the-experts-10-cloud-migration-challenges>

迁移到云可能是一个挑战。但是不要在迁移上孤注一掷。如果您正在开始或计划一个[云迁移](https://acloudguru.com/blog/business/what-is-cloud-migration)，有无数常见的云迁移挑战会让您的努力脱轨。

在实现云优势的过程中，您如何避免迁移失误？

在我们免费的点播式网络研讨会 [*云迁移:向专家提问*](https://get.acloudguru.com/cloud-migration-role-playing-game-webinar) 中，我们邀请了一组拥有 80 多年综合 IT 经验的云专家，与我们一起分解 10 个云迁移挑战，并分享他们用来克服这些挑战的成功策略。

该面板包括:

为了清晰和简洁起见，下面的引文经过了轻微的编辑。查看[网上研讨会](https://get.acloudguru.com/cloud-migration-role-playing-game-webinar)了解整个对话。

## 规划中面临哪些云迁移挑战？

**Kacy Clarke:** 规划迁移时最大的挑战之一是您要改变多少。

当你到达另一边时，你会尽快行动并收拾残局吗？是否要重构数据库以在 RDS 上运行？我们希望在多大程度上实现自动化，以便获得自动化的 [CI/CD 管道](https://acloudguru.com/course/implementing-a-full-ci-cd-pipeline)？我们要把应用程序转移到容器上吗？有这么多不同的问题。

但是，这必须回到业务案例上来，即*为什么*您要移动？

难道只是我想从数据中心出来？或者，您现在是否希望解决应用程序中的一些限制？从你想做的事情的范围开始。

**Andy Warzon:** 除了你想改变多少之外，一个典型的挑战是:你有一个云迁移，你可能有一个[开发运维](https://acloudguru.com/blog/engineering/devops-vs-agile-whats-the-difference)转型。你想同时做这两件事。没有简单的答案。一次要改变太多，这会给你带来更多失败的可能性，以及试图一次改变太多的文化阻力。

但是，如果您不解决这种开发运维心态，您将无法在迁移过程中获得云的所有优势。最后，您可能会得到一个非常静态的环境，看起来与您的内部环境非常相似，而企业可能看不到这些预期的好处。弄清楚要先解决什么是件大事。

## 在运行安全云环境方面没有运营经验的组织如何确保他们受到保护？

Andy Warzon: 你必须从账户布局、认证和授权模型开始，这是组织的许可模型。这是关键的第一步。生产客户、非生产客户、潜在的共享服务客户，如果有微服务架构，您甚至可以考虑为单独的工作负载集提供单独的客户。因此，规划帐户结构，然后在此基础上建立权限模型。

会有使用 Active Directory 或其他 SSO 服务的单点登录吗？然后，你给开发者什么访问权限？谁有权生产？所有那些真正关键的问题都应该提前提出来。

然后，一个密切相关的事情，以解决前期是网络布局。特别是如果从本地迁移，并且您有一个现有的网络环境，那么在某个过渡时期，本地环境和云环境之间可能会有连接。那么，IP 空间、子网和局域网的布局以及回接到内部的连接是什么样的，这样您就不会有冲突，并且有增长的空间。

**John Wright:** 对我来说，在处理混合网络设置时，最重要的事情是在第一天就获得安全和网络，并说:“让我们进行一次真正的对话。这是必须的。”因为它是混合的，所以当他们在 AWS 中时，他们会想要他们可能不需要的长期保护。

询问保安关于[升降和移位迁移](https://acloudguru.com/blog/business/what-is-lift-and-shift-cloud-migration)的规则，或者什么是护栏？我发现，很多时候，这些组织可能会成为迁移的阻碍者，这并不是消极的，因为他们有一个建筑和项目要规划，但是让他们在房间里，给他们时间，让他们能够做出关于迁移的决策，是成功的一个重要关键。

**Kacy Clarke:** 我们通常会让客户尝试定义他们的最低可行云，包括安全框架、运营框架、自动化框架、核心客户结构和网络架构。

坦率地说，在安全框架中，我所做的工作至少有一半都与安全有关，即身份和访问管理。访问模式是什么？这些是全球客户吗？他们是通过互联网进来的吗？他们是通过应用程序进来的吗？您必须了解这些访问模式以及与之相关的威胁媒介。

约翰关于在开始时引入安全性的观点是绝对必要的。他们将不得不改变控制和政策。这是费用信息。根据那里的 PII 或数据的水平，我们需要升级我们的游戏。可能是数据丢失预防、威胁漏洞、我们对最终客户端做了什么。从安全的角度来看，它最终是对最低可行云的检查。

因为这是我们通常在云中比在数据中心添加更多的东西。我们已经习惯了数据中心内的边界。但是仅仅保护云中的边界是不够的。我们必须保护工作量。而且，坦白地说，我们必须保护每一层不受彼此影响，因此，加密所有传输中的数据，加密静态数据。

你如何管理和旋转密钥呢？你在对集装箱做什么？NET 平台有没有保护端点？那里有大量的工作要做。在运营方面也是如此:事件管理、变更管理，这些流程将如何工作，我们将如何为可用性或故障转移增加自动化？

* * *

**[阅读:7 个常见的云采用错误](https://go.acloudguru.com/cloud-adoption-mistakes-ebook)** 三分之二的公司报告没有获得预期的云优势。 [*7 种常见的云采用错误*电子书](https://go.acloudguru.com/cloud-adoption-mistakes-ebook)详细介绍了企业可能会犯的错误，这些错误可以让他们的云努力保持稳定。

* * *

## 您能否在迁移到云的同时转变到 DevOps 思维模式？

Forrest Brazeal: 我注意到，当你深入了解时，大多数技术考虑实际上都是业务考虑。我想这是我们很多人都错过的。但是事件和变更管理将我们带到了 CI/CD。无论我们的部署看起来如何，组织如何快速、安全、可靠地进行部署？我们有能力在短时间内过渡到 DevOps 思维框架吗？

约翰·赖特:对我来说，你完全可以让客户进入一种开发思维模式，即使是提升和转移。更重要的是他们是否有资源去做，去生活，去改变或重新搭建平台。假设我们知道。与此同时，我们可以在一旁进行培训，即使这不是我们转移工作负载的方式。因为也许移动这个应用程序的正确方式是用管道或任何你想用的东西将它部署到 AWS 中。

对我来说，如果客户拥有支持快速迁移和学习 DevOps 的资源，那么我认为没有理由不能两者兼得。这归结于时间和预算，但我试图确保我们在进行主要迁移的同时，也在培训云优先部署方面的人员，这样既有趣又令人兴奋，我们还能学到新东西。

**Kacy Clarke:**devo PS 思维模式也是开发人员和运营人员合作的方式——基础设施即代码。对我来说，云的最大优势不在于它是完全虚拟化的，并且您可以按需付费。最大的一个好处就是什么都有 API，所以现在什么都是软件。

DevOps 思维模式就是如何将自动化思维模式应用到您正在做的每件事情中？因此，您可以关闭不使用的东西，自动扩展是您工作的一部分，因此您可以将工作负载部署与您看到的实际工作负载相匹配。

这种协作使开发人员不只是把东西扔在墙上，运营人员也不会让东西以过高的配置率运行，这样您就可以管理成本，管理效率，这是真正利用云创新平台的核心。

* * *

[**自动化 AWS 成本优化**](https://go.acloudguru.com/AWS-Cost-Optimization-Webinar)
AWS 为您的企业提供了前所未有的价值，但经济高效地使用它可能是一项挑战。在这个[免费点播的网络研讨会](https://go.acloudguru.com/AWS-Cost-Optimization-Webinar)中，您将了解 AWS 成本优化工具和策略的概况。

* * *

## 在考虑架构时，您如何平衡成本和速度？

**Forrest Brazeal:** 转到围绕成本和速度的架构和策略，假设您正在处理大型 SQL 服务器的工作负载，这是一种传统的关系数据库，其中包含大量数据，并且其当前位置存在一些数据重力。鉴于周转时间很短，您认为重新搭建平台有意义吗？

**Andy Warzon:** 对于任何对业务至关重要的应用程序，我的默认方法是尝试提前寻找平台迁移的机会。有时候，如果你因为离截止日期还有几周或者有数百份申请而不得不跳过，那就这样吧。但是，如果您非常关注应用程序，您会希望寻找机会来重新构建平台，例如 RDS 或其他平台，管理负载平衡器或不同状态的存储服务。

最重要的是调查这些重新平台的机会，并找到最能平衡工作和成本的机会。找到几个成功的平台对于核心应用程序来说很关键，因为它有助于开始构建买入。当团队看到这些胜利时，他们开始看到云的好处。

**John Wright:** 我看到的大多数迁移都有一个与之相关的时间表，比如数据库可能会被拆分成 20 个数据库。或者在数据库层进行某种类型的解耦或重新平台化。

但是负载平衡器之类的东西几乎总是被转移到更本地的解决方案。即使是没有高可用性的应用程序和 web 服务器，您也可以通过将另一个应用程序和 web 服务器添加到另一个 AZ 来快速取胜。让我们做一个自动缩放证明。让我们用 Packer 之类的东西构建一些 AMIs 和一些 DevOps 工作，您甚至可以在提升和转移时完成这些工作。所以现在你已经创建了这个高度可用的应用程序。

但是从数据库来看，技术方面的东西通常不是做出决定的因素。这是时间表和你有什么许可协议。事实是，如果客户只有许可——我怎么强调“许可”这个词都不为过——如果他们有许可协议，并且他们想做 BYOL，这就是你的决定。那是一个很大的司机。这很难，因为技术上正确的事情并没有因为许可协议而完成。

Kacy**Clarke**:AWS 的数据迁移服务当然很有帮助，尤其是如果我们想重新搭建平台的话。但是 John 关于许可的观点很重要，让客户了解这一点也很重要。但是，如果您有 300 TB 的容量，即使您拆分了这些数据库，您也必须进行批量加载和增量同步，直到您准备好真正进行切换。

您必须考虑这将如何工作，它将如何影响您的客户，以及我们如何确保从开发到测试，再到 UAT，我们实际上是在与他们协调—我们正在验证数据是否适当地同步到我们要去的任何目标数据库。然后在 UAT 环境中测试转换，然后在我们准备就绪时进行最终转换。因此，在数据迁移方面需要做很多规划。

## 如果对您正在迁移的应用程序的工作方式缺乏了解或文档记录，该怎么办？

阿甘 **布拉萨尔**:我想带来一个意想不到的挑战。如果团队中没有人知道应用程序是如何工作的，并且许多关键功能没有记录下来，你会怎么做？也许它是由已经离开公司的人建造的。也许有一份六年前的文件和一些白板的照片。你在那里做什么？

**John Wright:** 探索工具的预算时间。如果你不想付钱，那就协商。有一些工具，如 RISC Networks、Cloudamize 等，它们基于或不基于代理，可以连接到您现有的服务器。他们连接 15-30 天的数据，绘制显示流量的架构图，他们将确定云服务器的规模，他们将告诉您 IOPS 要求，他们将向您展示正在运行的可执行文件，以及哪些文件正在触及其他内容。

如果没有这些，你就必须付钱给合作伙伴或你自己的人，让他们用传统的方式手动进行六个月的调查。您可以花更少的钱运行 30 天的发现工具，并获得您真正需要的 90%。

但是你也必须接受你不会把你所有的特征都记录下来。这可能是你迁移到云的原因之一——让你的应用现代化并变得更好。迁移后，您可能会学到更多东西。没办法什么都学。

安迪你可能不明白每段代码是做什么的，但是你*有*去理解数据是如何在节点和网络间移动的。

我讨厌看到人们不解决这个问题，然后把堡垒思维带到他们的网络设计中。他们只是开放一切，因为他们不知道什么在和什么说话。您需要考虑问题的这一方面，以便尽可能锁定安全组和网络访问。确保这部分能被理解。

另一件事是，不要试图理解每一部分代码在做什么，而是为迁移建立性能需求。你希望的关键结果是什么？这将指导您在应用程序中需要做什么样的发现。

**Kacy Clarke:** 发现工具非常重要和有用，但我会超越这一点，调用代码扫描工具——进入并了解正在发生的事情。

有多少存储过程与此相关联。对一些人来说，那是一个真正的困境。我经常会引入应用程序性能管理工具，比如 SignalFx 或 AppDynamics 或其他工具。发现所有不同的依赖关系，以及移动应用程序后对延迟和连接性的影响。这可能是你没有预料到的数据同步。可能是跨数据库的报告。或数据库链接。(天助我们。)

不仅仅是看申请。每个应用都是生态系统的一部分。并且能够跟踪所有的连接，以便您了解什么是生态系统的真正组成部分，因为您可能需要将许多不同的应用程序移动到一起才能工作。因此，发现工具是必不可少的，但不要止步于此。还有更多的问题要问。

约翰·赖特:别忘了你还在硬件上运行。某处有一个带磁盘的服务器。这些发现工具将观察像 IOPS 这样的东西。也许您目前的工作负载对延迟过于敏感，无法像现在这样移动。看 app 端，还要看硬件。您还必须从这些发现工具中了解这些情况，许多内部监控工具无法捕获足够多的关于云中内容的这类信息。

* * *

[![The ROI Report: How the Cloud Helps You Grow](img/39be2a9d15a32c04375892153d52e334.png)](https://get.acloudguru.com/how-the-cloud-helps-you-grow)

[**云 ROI:云技能如何产生实际回报**](https://get.acloudguru.com/how-the-cloud-helps-you-grow)我们分析了来自近 100 家公司的信息，以确定承诺对云成熟度的影响。在[这份指南](https://get.acloudguru.com/how-the-cloud-helps-you-grow)中，看看企业投资云技能和技术能获得多少价值。

* * *

## 是否有非技术角色也需要掌握云才能成功迁移？

**Andy Warzon:** 当谈到[需要讲云的非技术角色](https://acloudguru.com/blog/business/not-just-for-it-these-5-non-technical-roles-need-to-speak-cloud)时，我会从首席财务官和他们的团队说起。考虑财务方面真的很重要。通常，当您的团队以资本化和从资本支出转向运营支出的思维方式思考时，您会发现这是一个阻碍因素。与该团队合作，了解迁移的成本和总拥有成本带来的好处，节约来自哪里，成本弹性如何，以及我们将如何从业务模式的角度考虑这些问题。

他们还需要了解需要注意的事情。他们需要成为业务中的合作伙伴，并可能在诸如退款或考虑每个客户的成本等方面更先进。

## 雇佣云人才并向他们传授您的环境更快，还是提升内部工程师技能成为云工程师更快？

凯西 **克拉克**:你必须双管齐下。一个人将帮助移动针头，但最终你将不得不把每个人都带上。让他们了解云的设计和架构有何不同，运营有何不同，我们为什么要进行自动化部署和配置、自我修复和自动扩展等工作。对于开发人员和运营人员来说，这只是一个与数据中心非常不同的环境。

你需要了解应用程序的人来加速云的发展，你需要从外部进入的人能够了解你的应用程序。你需要让他们一起工作，弄清楚你要做什么，以及当你转向云计算时，你要重构多少。

对你的教育计划要非常积极主动。建立云研究所，奖励获得认证的人，并使其令人兴奋。

* * *

*[阅读:了解 ManTech 如何利用激励性挑战在 100 天内获得 312 个证书。](https://get.acloudguru.com/mantech-case-study)*

* * *

坦白地说，云迁移会吓到你的很多员工。我们无时无刻不在应对恐惧——人们认为自己会失业。它改变了一切，包括我们如何处理许可和协议。所以有很多人，而不仅仅是一个云的人要在这里有所作为。

**约翰** **莱特**:也很难找到买得起的云人。实话实说吧。因此，最好不要着急，雇佣合适的人，比如组织的首席架构师或首席架构师。

但是，假设您的数据中心中有存储、计算和网络。如果你只雇佣 10 个人，说他们是云团队，其他人就会辞职。现在你将没有人支持你的迁移。你不想吓到任何人。对我来说，你雇佣的比例是 1:10。如果你有 10 个存储、网络和计算人员，你告诉他们，“*你们现在是*云团队，你们每个人都有自己的专长，学习云。”我们出发了。

我认为您应该提前告诉人们，您将雇用一些人来帮助迁移，但我们会将您转变为拥有自己专业知识的云人员。因为如果你把它们吓跑了，迁徙就结束了。然后它变得非常昂贵，因为你必须雇用承包商和顾问来做所有的事情。

## 你如何向云怀疑论者推销云？

阿甘 **布拉瑟尔**:让我们在这里再扔一把扳手。如果你有一个 CISO，他提出了关于云安全的担忧——也许他听说了一些关于 S3 违规的事情。

凯西·克拉克:你必须在旅途中带上它们。你必须与 CISO 讨论共同责任模式的最佳实践。他们是如何控制事情的？他们如何加密和保护数据？他们如何进行复制并使其安全？

他们需要做大量的工作来了解云，不要紧张，还要了解 web 应用防火墙和密钥轮换的频率。但你必须尽早开始，这样他们就可以在 AWS 中打开越来越多的服务，让开发者可以使用它们，并利用云中可能的创新——而不是从一开始就害怕和拒绝。

安迪·沃松:绝对是。我认为我们从来没有一次部署没有*深入*S3 的参与。我认为“S3 违约”这句话往往是一个关键的机会。人们通常有一种思维模式，他们想象一个零日，某种根本性的缺陷。有些教育真的能让他们大开眼界。

* * *

[![StateOfCloudLearning](img/4a5b6e79dda96f47004b14767f756ace.png)](https://go.acloudguru.com/state-of-the-cloud-webinar)

[**看点:云的状态**](https://go.acloudguru.com/state-of-the-cloud-webinar) 没人能预测未来，但我们还是请了一组非常聪明的云专家来试试。Jassy 升任亚马逊 CEO 对 AWS 来说意味着什么？今年是[多云](https://acloudguru.com/blog/business/aws-just-went-multi-cloud-and-its-only-the-beginning)之年吗？在这个[免费点播的网上研讨会](https://go.acloudguru.com/state-of-the-cloud-webinar)中，我们生动活泼的小组发言。

* * *

## 你将如何影响一个技术架构师，他有一个传统的思维模式，但也负责编写新的托管策略？

John Wright: 如果你是一家财富 50 强的大公司，正在向云迁移，我会告诉你需要一个云优先的首席架构师。我不是说你必须解雇你的技术设计师。但是你几乎总是不得不雇佣一个首席架构师，他不会带着所有的包袱。随着时间的推移，他们可以帮助推动这种心态。

如果你找一个已经在组织中工作了 20 年的技术架构师，他们通常不是自己推动架构向云发展的合适人选。您需要一些额外的指导，可能是合作伙伴或 AWS。但我不会只是带他们去告诉他们，“自己去做吧。”我会训练他们，给他们一些帮助。

**安迪** **沃松**:是的，你不能离开建筑师自己。但是如果你把他们和一个伙伴或其他专家配对，我们倾向于发现，如果你和他们在一起并努力赋予他们权力，他们就会出现。这些人会开始珍惜机会，并为此感到兴奋。如果你处于那个角色，你不能对新技术感到兴奋，那么也许它不适合你。我认为，假以时日，他们会成为一个巨大的倡导者。

**凯西** **克拉克**:对云计算中的机会充满热情，对更多了解云计算和[大数据](https://acloudguru.com/course/big-data-fundamentals)和人工智能[机器学习](https://acloudguru.com/course/introduction-to-machine-learning)的职业机会充满热情。有一个技术专家在那里，你可以感到兴奋。你想利用他们对你公司的所有了解。

## 你见过的最大的云迁移错误是什么？

安迪并意识到停机时间或由此增加的额外时间带来的挑战。

约翰 **莱特**:没有把精力放在发现和计划上。除非您发现并正确规划，否则您无法进行迁移。

凯西 **克拉克**:把它当成一个数据中心。我的一个客户在我们进入开发并让它运行时，打开了他们生产所需的所有服务。下个月的账单上出现了 120 万美元。要有成本意识。除非你需要，否则不要让事情运转。

* * *

**改变职业，改变企业。**
学得快。动作快点。借助 AWS、Microsoft Azure、Google Cloud 等领域的课程和实际动手实验室，立即实现转型。