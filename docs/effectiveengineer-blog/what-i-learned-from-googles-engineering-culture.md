# 谷歌教会我如何扩展工程团队

> 原文：<http://www.effectiveengineer.com/blog/what-i-learned-from-googles-engineering-culture>

每周，一群谷歌员工会在世界各地浴室隔间的墙上贴满一页纸，分享一周的测试技巧。有一周，一页纸可能会讨论依赖注入，并提供一个如何在各种语言中使用它的简单示例；另一周，它可能会分享如何建立一个工具来测量你的团队代码库的测试覆盖率。“厕所测试”计划是一种古怪而有趣的方式，可以在工程师们工作时教给他们一些新的有用的东西。它还强调了谷歌工程文化的一个关键优势:向一个大型工程组织有效地传播一套一致的、自以为是的最佳实践。

我大学一毕业就加入了谷歌的搜索质量团队，从 2006 年年中一直呆到 2008 年年中，当时公司的员工从大约 8000 人增长到了将近 2 万人。在我的第一个项目中，我与两位非常有才华的工程师一起工作，在短短的六个月里，我们在 google.com 上开发、测试并推出了一个新功能，每天向数百万用户展示与[相关的搜索](http://google-au.blogspot.com/2007/06/may-i-offer-you-suggestion.html)。作为团队中的 token Noogler，在整个经历中最突出的是公司如何快速培养像我这样的新工程师，使其在环境中高效工作。像博格一样，^(公司已经掌握了吸收新工程师的艺术。)

如果不是因为谷歌工程文化的某些关键元素，我的团队在这么短的时间内发布如此规模和影响力的功能将会非常困难。这些元素使我能够在短时间内获得 Google 的代码库、工具和基础设施。它们也是使该公司达到今天拥有 50，000 多名员工的规模的相同因素。一些前谷歌员工可能会抱怨这家公司已经变得多么缓慢或官僚，但不可否认的是，它已经能够在大范围内取得高水平的成功，同时仍然是《财富》杂志 100 家最佳雇主名单中排名第一的公司。

以下是我从谷歌的工程文化中总结出来的六条核心原则，你或许可以从中学习:

*   将工程资源用于共享工具和抽象。从很早的时候起，Google 就在工具和抽象方面投入了大量资金，如协议缓冲区、MapReduce、BigTable 等，这些工具和抽象在整个工程组织中都有使用。一次很好地解决一个问题，然后让内部每个人都采用它的态度已经有了巨大的回报。每个团队花费更少的精神周期来选择使用哪些工具，专用工具团队可以专注于工程生产力的改进，这些改进很容易传播到已经使用工具或服务的每个人。与每个团队可能使用完全不同的工具链的工程组织相比，这种哲学也意味着一旦你学会了基本的构建模块，理解许多项目背后的设计就容易得多。这种方法的缺点是，有时您可能会感到有压力，要将您的用例硬塞到一个特定的、得到良好支持的工具中，即使它不是这项工作的最佳工具。

*   **投资可重复使用的培训材料，让新工程师上岗。**我能够在谷歌内部迅速变得富有成效的一个原因是，该公司在名为 *codelabs* 的培训文档上投入了如此多的资源。Codelabs 涵盖了公司的核心抽象，解释了设计它们的原因，强调了代码库的相关片段，然后通过一些实现练习验证了理解。如果没有它们，我将需要花费更长的时间来学习我需要知道的大量有效的技术，这将意味着我的队友将不得不花更多的时间向我解释它们。我在谷歌与 codelabs 的正面经历强烈地塑造了我后来在 Quora 的入职过程中推动 codelabs 的决定。

*   标准化编码惯例。关于空白、大写、行长度、是否使用智能指针等的每个约定。，单独看起来可能微不足道，但当你触及谷歌的规模时，却有着巨大的影响。我不会第一个承认，当代码评审员因为我不正确地缩进了一行或添加了两个字符超过了规定的行长度而挑剔我的代码时，这是令人讨厌的。但是因为每个人都遵循相同的约定，这使得浏览源代码变得非常容易。当切换团队或从事跨职能项目时，学习新团队的惯例几乎没有开销。当你的团队很小的时候，惯例是很容易被忽略的事情之一，但是当代码库和团队变得足够大的时候，你需要付出越来越多的努力去改变，以至于你实际上希望有一些一致性。如果可能的话，尽早达成一些一致的约定，或者使用谷歌开源的[风格指南](https://code.google.com/p/google-styleguide/)。

*   **通过代码评审提高代码质量。**对每一个变更都要求并以编程方式强制执行代码审查会降低迭代速度，但会优化代码质量。新的工程师收到了他们需要的反馈，以快速获得最佳实践，并集中在可接受的代码质量水平上。总体而言，更高质量的代码也意味着模仿他们周围代码的新工程师也会倾向于编写更干净的代码。因此，代码审查有助于帮助公司大规模维护高质量的软件。

*   拥有正确的数据(大量的数据)可以解决许多问题。谷歌研究总监彼得·诺维格经常谈到在解决复杂问题时“数据的不合理的有效性”。 ^(^(正确的数据可以帮助你理解用户，剖析办公室政治，解决争论，让你跟踪进展。开发像 Sawzall 和 MapReduce 这样的日志和数据基础设施，使得谷歌的工程师能够筛选海量数据。))

*   **自动化测试来扩展你的代码。Google 有非常强的单元测试文化，“在马桶上测试”只是其中一个说明性的例子。几乎我所做的每一个代码变更都伴随着单元测试，代码评审人员会严格检查它们。这使得开发一个给定的变更变得更慢，但这也意味着成百上千的工程师可以对代码库的相同部分进行可扩展的变更，而不会牺牲太多的质量或可靠性。与谷歌投资共享工具的方式一样，它也将大力投资共享测试框架，并在最佳测试实践中教育人们，以使编写测试更容易。**

当我后来在 Ooyala 和 Quora 帮助建立产品和团队时，在谷歌行之有效的实践(以及那些行不通的实践)强烈地影响了我对如何在这些地方形成良好的工程文化的思考。然而，仅仅因为特定的决策在谷歌的规模下运作良好，并不一定意味着它们在不同的成长阶段对不同的组织也会运作良好。每个工程决策都涉及一系列的权衡，但是谷歌的工程文化提供了这些权衡中的一部分，你可以从这里开始。

*这篇文章改编自[我在 Quora 上写的一个回答](https://www.quora.com/What-parts-of-Google-software-engineering-culture-do-you-use-and-propagate-after-you-left-Google/answer/Edmond-Lau?share=1)。*