# 成功的脚本——足球蔻驰能教会我们什么是工程

> 原文：<http://www.effectiveengineer.com/blog/script-for-success>

凌晨 3 点，电话响了。一般来说，半夜有人给你打电话从来都不是好消息。我伸手拿起手机，看到一个自动提示:quora.com 停机了。尽管这张床看起来很诱人，但每一分钟的延迟都意味着 Quora 全球用户在访问网站时又多了一分钟的麻烦。我滚下床，走向我的电脑。我的第一个想法是登录 Hipchat，以防我的一些夜间队友可以提供帮助。我的眼睛仍在适应明亮的屏幕，我开始浏览错误日志、可靠性仪表板和服务器图表，试图找出中断的原因。在进行了一系列检查后，看起来我们的主数据库被彻底破坏了——这将是一个漫长的夜晚。

寻呼机值班轮换，即工程师轮流待命，作为一周内任何和所有站点警报的第一道防线，是发展全球在线产品过程中最紧张的经历之一。随叫随到意味着无论你去哪里，你都必须随身携带笔记本电脑，而且你可能会在任何时候被叫走，有时是为了处理琐碎的问题，但其他时候是为了解决令人头疼和时间敏感的停机问题。然而，考虑到这种共同的责任对于保持产品的正常运行是至关重要的，我们能做些什么来改善这种情况，或者我们必须在压力和不太理想的情况下很好地执行的任何情况？

一个策略来自旧金山 49 人队的前教练比尔·沃尔什。在 [*中，分数自己决定*](http://www.amazon.com/gp/product/1591843472?ie=UTF8&camp=1789&creativeASIN=1591843472&linkCode=xm2&tag=theeffeengi-20) 中，沃尔什讨论了一种叫做“成功脚本”的策略沃尔什会为如何应对所有类型的游戏场景编写脚本或应急计划。他有一个计划，如果球队在第一节后落后两次或更多次达阵，他有一个计划，如果关键球员受伤了，他有一个计划，如果球队还有 25 码，还剩一场比赛，需要达阵，他有一个计划。事实上，49 人队每场比赛的前 20-25 场比赛最终都变成了脚本，这是一个如果-那么规则的树，它编纂了球队在不同情况下应该做的事情。

沃尔什意识到，在比赛的关键时刻，当成千上万的球迷向你咆哮，当对方球队的球迷向你扔热狗和啤酒杯，当计时器在一秒一秒地流逝你宝贵的时间时，很难理清思绪，做出有效的决定。正如沃尔什解释的那样，脚本有助于将决策过程从游戏中令人分心的激烈情绪中移除:

> “这给了我们一个惊人的战术进攻资产，没有其他球队在那个时候使用。无论天气好坏，脚本都是最有效的领导工具。在游戏开始之前，我就开始精心安排游戏的玩法。其他团队花了几年时间才完全实现我开发了很长时间的概念。”

Walsh 最终带领 49 人队赢得了 3 次超级碗冠军，并两次被提名为 NFL 蔻驰年度最佳。

## 模拟和平时期的失败

通过采用沃尔什的脚本策略，我们将决策从高风险或高压力的情况下转移到更加可控的环境中。我们减少了情绪影响我们判断或时间压力加重我们压力的情况发生的频率。作为工程师，我们甚至可以通过编程编写我们的响应，并测试它们以确保它们是健壮的。这在工程组织中尤其重要，在大范围内，任何可能失败的基础设施都将开始失败。

许多工程组织已经采用了一种在和平时期模拟故障和灾难的策略来为意外情况做准备:

*   早在 2006 年我在谷歌工作的时候，谷歌每年都会举办为期数天的灾难恢复测试(DiRT)活动。在泥土演习中，该公司将模拟地震或飓风等灾害，并验证团队、通信和关键系统在整个数据中心或办公室断电或出现故障的情况下仍能继续运行。演习暴露了单点故障、不可靠的故障转移、过时的应急计划或其他意外错误，并允许团队在受控的环境下处理这些问题，而不会出现与实际紧急情况相关的恐慌和压力。

*   网飞建立了一个名为混沌猴的系统，随机杀死自己基础设施中的服务。^(破坏自己的系统似乎不太直观，但通过配置 Chaos Monkey 在工作日的正常工作时间终止服务，工程师可以在他们实际在办公室时发现架构缺陷，而不是在半夜收到传呼。正如他们在博客中指出的，“对重大意外失败的最好防御就是经常失败。”)

*   在 Dropbox，工程团队经常在额外的模拟负载下运行他们的系统。如果他们遇到了导致错误的系统限制，他们可以轻松地禁用模拟负载并解决问题。这就创造了一个比不得不与生产流量造成的同样的问题交火时压力要小得多的局面，而生产流量是他们无法关闭的。

在所有这些例子中，工程组织假设意外和不希望发生的事情会发生。他们采用的理念是，现在，在和平时期，比在他们控制之外的情况下，更好地为这些情况制定计划和脚本。

即使我们不从事基础设施建设，我们仍然会在职业生涯中遇到其他高风险、高压力的事件。例如，工作面试和薪资谈判往往也不频繁，压力大，但影响大。为这些情况编写脚本和做准备可能同样有价值。对我来说，我很高兴自动化恢复脚本和记录在案的响应计划让我在 Quora 的待命周压力小了很多。